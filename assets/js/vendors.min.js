!function(t){var e=!1,i=!1,o=5e3,n=2e3,r=0,s=function(){var t=document.getElementsByTagName("script"),t=t[t.length-1].src.split("?")[0];return 0<t.split("/").length?t.split("/").slice(0,-1).join("/")+"/":""}();Array.prototype.forEach||(Array.prototype.forEach=function(t,e){for(var i=0,o=this.length;i<o;++i)t.call(e,this[i],i,this)});var l=window.requestAnimationFrame||!1,c=window.cancelAnimationFrame||!1;["ms","moz","webkit","o"].forEach(function(t){l||(l=window[t+"RequestAnimationFrame"]),c||(c=window[t+"CancelAnimationFrame"]||window[t+"CancelRequestAnimationFrame"])});var u=window.MutationObserver||window.WebKitMutationObserver||!1,d={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:!1,cursordragontouch:!1},h=!1,p=function(){if(h)return h;var t=document.createElement("DIV"),e={haspointerlock:"pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document};e.isopera="opera"in window,e.isopera12=e.isopera&&"getUserMedia"in navigator,e.isie="all"in document&&"attachEvent"in t&&!e.isopera,e.isieold=e.isie&&!("msInterpolationMode"in t.style),e.isie7=e.isie&&!e.isieold&&(!("documentMode"in document)||7==document.documentMode),e.isie8=e.isie&&"documentMode"in document&&8==document.documentMode,e.isie9=e.isie&&"performance"in window&&9<=document.documentMode,e.isie10=e.isie&&"performance"in window&&10<=document.documentMode,e.isie9mobile=/iemobile.9/i.test(navigator.userAgent),e.isie9mobile&&(e.isie9=!1),e.isie7mobile=!e.isie9mobile&&e.isie7&&/iemobile/i.test(navigator.userAgent),e.ismozilla="MozAppearance"in t.style,e.iswebkit="WebkitAppearance"in t.style,e.ischrome="chrome"in window,e.ischrome22=e.ischrome&&e.haspointerlock,e.ischrome26=e.ischrome&&"transition"in t.style,e.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,e.hasmstouch=window.navigator.msPointerEnabled||!1,e.ismac=/^mac$/i.test(navigator.platform),e.isios=e.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform),e.isios4=e.isios&&!("seal"in Object),e.isandroid=/android/i.test(navigator.userAgent),e.trstyle=!1,e.hastransform=!1,e.hastranslate3d=!1,e.transitionstyle=!1,e.hastransition=!1,e.transitionend=!1;for(var i=["transform","msTransform","webkitTransform","MozTransform","OTransform"],o=0;o<i.length;o++)if("undefined"!=typeof t.style[i[o]]){e.trstyle=i[o];break}e.hastransform=0!=e.trstyle,e.hastransform&&(t.style[e.trstyle]="translate3d(1px,2px,3px)",e.hastranslate3d=/translate3d/.test(t.style[e.trstyle])),e.transitionstyle=!1,e.prefixstyle="",e.transitionend=!1;for(var i="transition webkitTransition MozTransition OTransition OTransition msTransition KhtmlTransition".split(" "),n=" -webkit- -moz- -o- -o -ms- -khtml-".split(" "),r="transitionend webkitTransitionEnd transitionend otransitionend oTransitionEnd msTransitionEnd KhtmlTransitionEnd".split(" "),o=0;o<i.length;o++)if(i[o]in t.style){e.transitionstyle=i[o],e.prefixstyle=n[o],e.transitionend=r[o];break}e.ischrome26&&(e.prefixstyle=n[1]),e.hastransition=e.transitionstyle;t:{for(i=["-moz-grab","-webkit-grab","grab"],(e.ischrome&&!e.ischrome22||e.isie)&&(i=[]),o=0;o<i.length;o++)if(n=i[o],t.style.cursor=n,t.style.cursor==n){i=n;break t}i="url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"}return e.cursorgrabvalue=i,e.hasmousecapture="setCapture"in t,e.hasMutationObserver=!1!==u,h=e},f=function(a,h){function f(){var t=w.win;if("zIndex"in t)return t.zIndex();for(;0<t.length&&9!=t[0].nodeType;){var e=t.css("zIndex");if(!isNaN(e)&&0!=e)return parseInt(e);t=t.parent()}return!1}function g(t,e,i){return e=t.css(e),t=parseFloat(e),isNaN(t)?(t=T[e]||0,i=3==t?i?w.win.outerHeight()-w.win.innerHeight():w.win.outerWidth()-w.win.innerWidth():1,w.isie8&&t&&(t+=1),i?t:0):t}function v(t,e,i,o){w._bind(t,e,function(o){o=o?o:window.event;var n={original:o,target:o.target||o.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==o.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return o.preventDefault?o.preventDefault():o.returnValue=!1,!1},stopImmediatePropagation:function(){o.stopImmediatePropagation?o.stopImmediatePropagation():o.cancelBubble=!0}};return"mousewheel"==e?(n.deltaY=-.025*o.wheelDelta,o.wheelDeltaX&&(n.deltaX=-.025*o.wheelDeltaX)):n.deltaY=o.detail,i.call(t,n)},o)}function y(t,e,i){var o,n;if(0==t.deltaMode?(o=-Math.floor(t.deltaX*(w.opt.mousescrollstep/54)),n=-Math.floor(t.deltaY*(w.opt.mousescrollstep/54))):1==t.deltaMode&&(o=-Math.floor(t.deltaX*w.opt.mousescrollstep),n=-Math.floor(t.deltaY*w.opt.mousescrollstep)),e&&0==o&&n&&(o=n,n=0),o&&(w.scrollmom&&w.scrollmom.stop(),w.lastdeltax+=o,w.debounced("mousewheelx",function(){var t=w.lastdeltax;w.lastdeltax=0,w.rail.drag||w.doScrollLeftBy(t)},120)),n){if(w.opt.nativeparentscrolling&&i&&!w.ispage&&!w.zoomactive)if(0>n){if(w.getScrollTop()>=w.page.maxh)return!0}else if(0>=w.getScrollTop())return!0;w.scrollmom&&w.scrollmom.stop(),w.lastdeltay+=n,w.debounced("mousewheely",function(){var t=w.lastdeltay;w.lastdeltay=0,w.rail.drag||w.doScrollBy(t)},120)}return t.stopImmediatePropagation(),t.preventDefault()}var w=this;if(this.version="3.4.0",this.name="nicescroll",this.me=h,this.opt={doc:t("body"),win:!1},t.extend(this.opt,d),this.opt.snapbackspeed=80,a)for(var b in w.opt)"undefined"!=typeof a[b]&&(w.opt[b]=a[b]);this.iddoc=(this.doc=w.opt.doc)&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/BODY|HTML/.test(w.opt.win?w.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==w.opt.win,this.win=w.opt.win||(this.ispage?t(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?t(window):this.win,this.body=t("body"),this.iframe=this.isfixed=this.viewport=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=w.opt.autohidemode,this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,this.observerremover=this.observer=this.scrollmom=this.scrollrunning=this.checkrtlmode=!1;do this.id="ascrail"+n++;while(document.getElementById(this.id));this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.selectiondrag=this.cursorfreezed=this.cursor=this.rail=!1,this.visibility=!0,this.hidden=this.locked=!1,this.cursoractive=!0,this.overflowx=w.opt.overflowx,this.overflowy=w.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltay=this.lastdeltax=0,this.detected=p();var x=t.extend({},this.detected);if(this.ishwscroll=(this.canhwscroll=x.hastransform&&w.opt.hwacceleration)&&w.haswrapper,this.istouchcapable=!1,x.cantouch&&x.ischrome&&!x.isios&&!x.isandroid&&(this.istouchcapable=!0,x.cantouch=!1),x.cantouch&&x.ismozilla&&!x.isios&&(this.istouchcapable=!0,x.cantouch=!1),w.opt.enablemouselockapi||(x.hasmousecapture=!1,x.haspointerlock=!1),this.delayed=function(t,e,i,o){var n=w.delaylist[t],r=(new Date).getTime();return!(!o&&n&&n.tt)&&(n&&n.tt&&clearTimeout(n.tt),void(n&&n.last+i>r&&!n.tt?w.delaylist[t]={last:r+i,tt:setTimeout(function(){w.delaylist[t].tt=0,e.call()},i)}:n&&n.tt||(w.delaylist[t]={last:r,tt:0},setTimeout(function(){e.call()},0))))},this.debounced=function(t,e,i){var o=w.delaylist[t];(new Date).getTime(),w.delaylist[t]=e,o||setTimeout(function(){var e=w.delaylist[t];w.delaylist[t]=!1,e.call()},i)},this.synched=function(t,e){return w.synclist[t]=e,function(){w.onsync||(l(function(){w.onsync=!1;for(t in w.synclist){var e=w.synclist[t];e&&e.call(w),w.synclist[t]=!1}}),w.onsync=!0)}(),t},this.unsynched=function(t){w.synclist[t]&&(w.synclist[t]=!1)},this.css=function(t,e){for(var i in e)w.saved.css.push([t,i,t.css(i)]),t.css(i,e[i])},this.scrollTop=function(t){return"undefined"==typeof t?w.getScrollTop():w.setScrollTop(t)},this.scrollLeft=function(t){return"undefined"==typeof t?w.getScrollLeft():w.setScrollLeft(t)},BezierClass=function(t,e,i,o,n,r,s){this.st=t,this.ed=e,this.spd=i,this.p1=o||0,this.p2=n||1,this.p3=r||0,this.p4=s||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st},BezierClass.prototype={B2:function(t){return 3*t*t*(1-t)},B3:function(t){return 3*t*(1-t)*(1-t)},B4:function(t){return(1-t)*(1-t)*(1-t)},getNow:function(){var t=1-((new Date).getTime()-this.ts)/this.spd,e=this.B2(t)+this.B3(t)+this.B4(t);return 0>t?this.ed:this.st+Math.round(this.df*e)},update:function(t,e){return this.st=this.getNow(),this.ed=t,this.spd=e,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},x.hastranslate3d&&x.isios&&this.doc.css("-webkit-backface-visibility","hidden");var S=function(){var t=w.doc.css(x.trstyle);return!(!t||"matrix"!=t.substr(0,6))&&t.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)};this.getScrollTop=function(t){if(!t){if(t=S())return 16==t.length?-t[13]:-t[5];if(w.timerscroll&&w.timerscroll.bz)return w.timerscroll.bz.getNow()}return w.doc.translate.y},this.getScrollLeft=function(t){if(!t){if(t=S())return 16==t.length?-t[12]:-t[4];if(w.timerscroll&&w.timerscroll.bh)return w.timerscroll.bh.getNow()}return w.doc.translate.x},this.notifyScrollEvent=document.createEvent?function(t){var e=document.createEvent("UIEvents");e.initUIEvent("scroll",!1,!0,window,1),t.dispatchEvent(e)}:document.fireEvent?function(t){var e=document.createEventObject();t.fireEvent("onscroll"),e.cancelBubble=!0}:function(t,e){},x.hastranslate3d&&w.opt.enabletranslate3d?(this.setScrollTop=function(t,e){w.doc.translate.y=t,w.doc.translate.ty=-1*t+"px",w.doc.css(x.trstyle,"translate3d("+w.doc.translate.tx+","+w.doc.translate.ty+",0px)"),e||w.notifyScrollEvent(w.win[0])},this.setScrollLeft=function(t,e){w.doc.translate.x=t,w.doc.translate.tx=-1*t+"px",w.doc.css(x.trstyle,"translate3d("+w.doc.translate.tx+","+w.doc.translate.ty+",0px)"),e||w.notifyScrollEvent(w.win[0])}):(this.setScrollTop=function(t,e){w.doc.translate.y=t,w.doc.translate.ty=-1*t+"px",w.doc.css(x.trstyle,"translate("+w.doc.translate.tx+","+w.doc.translate.ty+")"),e||w.notifyScrollEvent(w.win[0])},this.setScrollLeft=function(t,e){w.doc.translate.x=t,w.doc.translate.tx=-1*t+"px",w.doc.css(x.trstyle,"translate("+w.doc.translate.tx+","+w.doc.translate.ty+")"),e||w.notifyScrollEvent(w.win[0])})}else this.getScrollTop=function(){return w.docscroll.scrollTop()},this.setScrollTop=function(t){return w.docscroll.scrollTop(t)},this.getScrollLeft=function(){return w.docscroll.scrollLeft()},this.setScrollLeft=function(t){return w.docscroll.scrollLeft(t)};this.getTarget=function(t){return!!t&&(t.target?t.target:!!t.srcElement&&t.srcElement)},this.hasParent=function(t,e){if(!t)return!1;for(var i=t.target||t.srcElement||t||!1;i&&i.id!=e;)i=i.parentNode||!1;return!1!==i};var T={thin:1,medium:3,thick:5};this.getOffset=function(){if(w.isfixed)return{top:parseFloat(w.win.css("top")),left:parseFloat(w.win.css("left"))};if(!w.viewport)return w.win.offset();var t=w.win.offset(),e=w.viewport.offset();return{top:t.top-e.top+w.viewport.scrollTop(),left:t.left-e.left+w.viewport.scrollLeft()}},this.updateScrollBar=function(t){if(w.ishwscroll)w.rail.css({height:w.win.innerHeight()}),w.railh&&w.railh.css({width:w.win.innerWidth()});else{var e=w.getOffset(),i=e.top,o=e.left,i=i+g(w.win,"border-top-width",!0);w.win.outerWidth(),w.win.innerWidth();var o=o+(w.rail.align?w.win.outerWidth()-g(w.win,"border-right-width")-w.rail.width:g(w.win,"border-left-width")),n=w.opt.railoffset;n&&(n.top&&(i+=n.top),w.rail.align&&n.left&&(o+=n.left)),w.locked||w.rail.css({top:i,left:o,height:t?t.h:w.win.innerHeight()}),w.zoom&&w.zoom.css({top:i+1,left:1==w.rail.align?o-20:o+w.rail.width+4}),w.railh&&!w.locked&&(i=e.top,o=e.left,t=w.railh.align?i+g(w.win,"border-top-width",!0)+w.win.innerHeight()-w.railh.height:i+g(w.win,"border-top-width",!0),o+=g(w.win,"border-left-width"),w.railh.css({top:t,left:o,width:w.railh.width}))}},this.doRailClick=function(t,e,i){var o;w.locked||(w.cancelEvent(t),e?(e=i?w.doScrollLeft:w.doScrollTop,o=i?(t.pageX-w.railh.offset().left-w.cursorwidth/2)*w.scrollratio.x:(t.pageY-w.rail.offset().top-w.cursorheight/2)*w.scrollratio.y,e(o)):(e=i?w.doScrollLeftBy:w.doScrollBy,o=i?w.scroll.x:w.scroll.y,t=i?t.pageX-w.railh.offset().left:t.pageY-w.rail.offset().top,i=i?w.view.w:w.view.h,e(o>=t?i:-i)))},w.hasanimationframe=l,w.hascancelanimationframe=c,w.hasanimationframe?w.hascancelanimationframe||(c=function(){w.cancelAnimationFrame=!0}):(l=function(t){return setTimeout(t,15-Math.floor(+new Date/1e3)%16)},c=clearInterval),this.init=function(){if(w.saved.css=[],x.isie7mobile)return!0;if(x.hasmstouch&&w.css(w.ispage?t("html"):w.win,{"-ms-touch-action":"none"}),w.zindex="auto",w.zindex=w.ispage||"auto"!=w.opt.zindex?w.opt.zindex:f()||"auto",!w.ispage&&"auto"!=w.zindex&&w.zindex>r&&(r=w.zindex),w.isie&&0==w.zindex&&"auto"==w.opt.zindex&&(w.zindex="auto"),!w.ispage||!x.cantouch&&!x.isieold&&!x.isie9mobile){var n=w.docscroll;w.ispage&&(n=w.haswrapper?w.win:w.doc),x.isie9mobile||w.css(n,{"overflow-y":"hidden"}),w.ispage&&x.isie7&&("BODY"==w.doc[0].nodeName?w.css(t("html"),{"overflow-y":"hidden"}):"HTML"==w.doc[0].nodeName&&w.css(t("body"),{"overflow-y":"hidden"})),x.isios&&!w.ispage&&!w.haswrapper&&w.css(t("body"),{"-webkit-overflow-scrolling":"touch"});var a=t(document.createElement("div"));a.css({position:"relative",top:0,"float":"right",width:w.opt.cursorwidth,height:"0px","background-color":w.opt.cursorcolor,border:w.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":w.opt.cursorborderradius,"-moz-border-radius":w.opt.cursorborderradius,"border-radius":w.opt.cursorborderradius}),a.hborder=parseFloat(a.outerHeight()-a.innerHeight()),w.cursor=a;var l=t(document.createElement("div"));l.attr("id",w.id),l.addClass("nicescroll-rails");var c,d,h,p=["left","right"];for(h in p)d=p[h],(c=w.opt.railpadding[d])?l.css("padding-"+d,c+"px"):w.opt.railpadding[d]=0;if(l.append(a),l.width=Math.max(parseFloat(w.opt.cursorwidth),a.outerWidth())+w.opt.railpadding.left+w.opt.railpadding.right,l.css({width:l.width+"px",zIndex:w.zindex,background:w.opt.background,cursor:"default"}),l.visibility=!0,l.scrollable=!0,l.align="left"==w.opt.railalign?0:1,w.rail=l,a=w.rail.drag=!1,w.opt.boxzoom&&!w.ispage&&!x.isieold&&(a=document.createElement("div"),w.bind(a,"click",w.doZoom),w.zoom=t(a),w.zoom.css({cursor:"pointer","z-index":w.zindex,backgroundImage:"url("+s+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),w.opt.dblclickzoom&&w.bind(w.win,"dblclick",w.doZoom),x.cantouch&&w.opt.gesturezoom&&(w.ongesturezoom=function(t){return 1.5<t.scale&&w.doZoomIn(t),.8>t.scale&&w.doZoomOut(t),w.cancelEvent(t)},w.bind(w.win,"gestureend",w.ongesturezoom))),w.railh=!1,w.opt.horizrailenabled){w.css(n,{"overflow-x":"hidden"}),a=t(document.createElement("div")),a.css({position:"relative",top:0,height:w.opt.cursorwidth,width:"0px","background-color":w.opt.cursorcolor,border:w.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":w.opt.cursorborderradius,"-moz-border-radius":w.opt.cursorborderradius,"border-radius":w.opt.cursorborderradius}),a.wborder=parseFloat(a.outerWidth()-a.innerWidth()),w.cursorh=a;var g=t(document.createElement("div"));g.attr("id",w.id+"-hr"),g.addClass("nicescroll-rails"),g.height=Math.max(parseFloat(w.opt.cursorwidth),a.outerHeight()),g.css({height:g.height+"px",zIndex:w.zindex,background:w.opt.background}),g.append(a),g.visibility=!0,g.scrollable=!0,g.align="top"==w.opt.railvalign?0:1,w.railh=g,w.railh.drag=!1}if(w.ispage?(l.css({position:"fixed",top:"0px",height:"100%"}),l.align?l.css({right:"0px"}):l.css({left:"0px"}),w.body.append(l),w.railh&&(g.css({position:"fixed",left:"0px",width:"100%"}),g.align?g.css({bottom:"0px"}):g.css({top:"0px"}),w.body.append(g))):(w.ishwscroll?("static"==w.win.css("position")&&w.css(w.win,{position:"relative"}),n="HTML"==w.win[0].nodeName?w.body:w.win,w.zoom&&(w.zoom.css({position:"absolute",top:1,right:0,"margin-right":l.width+4}),n.append(w.zoom)),l.css({position:"absolute",top:0}),l.align?l.css({right:0}):l.css({left:0}),n.append(l),g&&(g.css({position:"absolute",left:0,bottom:0}),g.align?g.css({bottom:0}):g.css({top:0}),n.append(g))):(w.isfixed="fixed"==w.win.css("position"),n=w.isfixed?"fixed":"absolute",w.isfixed||(w.viewport=w.getViewport(w.win[0])),w.viewport&&(w.body=w.viewport,0==/relative|absolute/.test(w.viewport.css("position"))&&w.css(w.viewport,{position:"relative"})),l.css({position:n}),w.zoom&&w.zoom.css({position:n}),w.updateScrollBar(),w.body.append(l),w.zoom&&w.body.append(w.zoom),w.railh&&(g.css({position:n}),w.body.append(g))),x.isios&&w.css(w.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),x.isie&&w.opt.disableoutline&&w.win.attr("hideFocus","true"),x.iswebkit&&w.opt.disableoutline&&w.win.css({outline:"none"})),!1===w.opt.autohidemode?(w.autohidedom=!1,w.rail.css({opacity:w.opt.cursoropacitymax}),w.railh&&w.railh.css({opacity:w.opt.cursoropacitymax})):!0===w.opt.autohidemode?(w.autohidedom=t().add(w.rail),x.isie8&&(w.autohidedom=w.autohidedom.add(w.cursor)),w.railh&&(w.autohidedom=w.autohidedom.add(w.railh)),w.railh&&x.isie8&&(w.autohidedom=w.autohidedom.add(w.cursorh))):"scroll"==w.opt.autohidemode?(w.autohidedom=t().add(w.rail),w.railh&&(w.autohidedom=w.autohidedom.add(w.railh))):"cursor"==w.opt.autohidemode?(w.autohidedom=t().add(w.cursor),w.railh&&(w.autohidedom=w.autohidedom.add(w.cursorh))):"hidden"==w.opt.autohidemode&&(w.autohidedom=!1,w.hide(),w.locked=!1),x.isie9mobile)w.scrollmom=new m(w),w.onmangotouch=function(t){t=w.getScrollTop();var e=w.getScrollLeft();if(t==w.scrollmom.lastscrolly&&e==w.scrollmom.lastscrollx)return!0;var i=t-w.mangotouch.sy,o=e-w.mangotouch.sx;if(0!=Math.round(Math.sqrt(Math.pow(o,2)+Math.pow(i,2)))){var n=0>i?-1:1,r=0>o?-1:1,s=+new Date;w.mangotouch.lazy&&clearTimeout(w.mangotouch.lazy),80<s-w.mangotouch.tm||w.mangotouch.dry!=n||w.mangotouch.drx!=r?(w.scrollmom.stop(),w.scrollmom.reset(e,t),w.mangotouch.sy=t,w.mangotouch.ly=t,w.mangotouch.sx=e,w.mangotouch.lx=e,w.mangotouch.dry=n,w.mangotouch.drx=r,w.mangotouch.tm=s):(w.scrollmom.stop(),w.scrollmom.update(w.mangotouch.sx-o,w.mangotouch.sy-i),w.mangotouch.tm=s,i=Math.max(Math.abs(w.mangotouch.ly-t),Math.abs(w.mangotouch.lx-e)),w.mangotouch.ly=t,w.mangotouch.lx=e,2<i&&(w.mangotouch.lazy=setTimeout(function(){w.mangotouch.lazy=!1,w.mangotouch.dry=0,w.mangotouch.drx=0,w.mangotouch.tm=0,w.scrollmom.doMomentum(30)},100)))}},l=w.getScrollTop(),g=w.getScrollLeft(),w.mangotouch={sy:l,ly:l,dry:0,sx:g,lx:g,drx:0,lazy:!1,tm:0},w.bind(w.docscroll,"scroll",w.onmangotouch);else{if(x.cantouch||w.istouchcapable||w.opt.touchbehavior||x.hasmstouch){w.scrollmom=new m(w),w.ontouchstart=function(e){if(e.pointerType&&2!=e.pointerType)return!1;if(!w.locked){if(x.hasmstouch)for(var i=!!e.target&&e.target;i;){var o=t(i).getNiceScroll();if(0<o.length&&o[0].me==w.me)break;if(0<o.length)return!1;if("DIV"==i.nodeName&&i.id==w.id)break;i=!!i.parentNode&&i.parentNode}if(w.cancelScroll(),(i=w.getTarget(e))&&/INPUT/i.test(i.nodeName)&&/range/i.test(i.type))return w.stopPropagation(e);if(!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),w.forcescreen&&(o=e,e={original:e.original?e.original:e},e.clientX=o.screenX,e.clientY=o.screenY),w.rail.drag={x:e.clientX,y:e.clientY,sx:w.scroll.x,sy:w.scroll.y,st:w.getScrollTop(),sl:w.getScrollLeft(),pt:2,dl:!1},w.ispage||!w.opt.directionlockdeadzone)w.rail.drag.dl="f";else{var o=t(window).width(),n=t(window).height(),r=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),s=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),n=Math.max(0,s-n),o=Math.max(0,r-o);w.rail.drag.ck=!w.rail.scrollable&&w.railh.scrollable?0<n&&"v":!(!w.rail.scrollable||w.railh.scrollable)&&(0<o&&"h"),w.rail.drag.ck||(w.rail.drag.dl="f")}if(w.opt.touchbehavior&&w.isiframe&&x.isie&&(o=w.win.position(),w.rail.drag.x+=o.left,w.rail.drag.y+=o.top),w.hasmoving=!1,w.lastmouseup=!1,w.scrollmom.reset(e.clientX,e.clientY),!x.cantouch&&!this.istouchcapable&&!x.hasmstouch){if(!i||!/INPUT|SELECT|TEXTAREA/i.test(i.nodeName))return!w.ispage&&x.hasmousecapture&&i.setCapture(),w.cancelEvent(e);/SUBMIT|CANCEL|BUTTON/i.test(t(i).attr("type"))&&(pc={tg:i,click:!1},w.preventclick=pc)}}},w.ontouchend=function(t){return(!t.pointerType||2==t.pointerType)&&(w.rail.drag&&2==w.rail.drag.pt&&(w.scrollmom.doMomentum(),w.rail.drag=!1,w.hasmoving&&(w.hasmoving=!1,w.lastmouseup=!0,w.hideCursor(),x.hasmousecapture&&document.releaseCapture(),!x.cantouch))?w.cancelEvent(t):void 0)};var v=w.opt.touchbehavior&&w.isiframe&&!x.hasmousecapture;w.ontouchmove=function(e,i){if(e.pointerType&&2!=e.pointerType)return!1;if(w.rail.drag&&2==w.rail.drag.pt){if(x.cantouch&&"undefined"==typeof e.original)return!0;if(w.hasmoving=!0,w.preventclick&&!w.preventclick.click&&(w.preventclick.click=w.preventclick.tg.onclick||!1,w.preventclick.tg.onclick=w.onpreventclick),e=t.extend({original:e},e),"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),w.forcescreen){var o=e;e={original:e.original?e.original:e},e.clientX=o.screenX,e.clientY=o.screenY}if(o=ofy=0,v&&!i){var n=w.win.position(),o=-n.left;ofy=-n.top}var r=e.clientY+ofy,n=r-w.rail.drag.y,s=e.clientX+o,a=s-w.rail.drag.x,l=w.rail.drag.st-n;if(w.ishwscroll&&w.opt.bouncescroll?0>l?l=Math.round(l/2):l>w.page.maxh&&(l=w.page.maxh+Math.round((l-w.page.maxh)/2)):(0>l&&(r=l=0),l>w.page.maxh&&(l=w.page.maxh,r=0)),w.railh&&w.railh.scrollable){var c=w.rail.drag.sl-a;w.ishwscroll&&w.opt.bouncescroll?0>c?c=Math.round(c/2):c>w.page.maxw&&(c=w.page.maxw+Math.round((c-w.page.maxw)/2)):(0>c&&(s=c=0),c>w.page.maxw&&(c=w.page.maxw,s=0))}if(o=!1,w.rail.drag.dl)o=!0,"v"==w.rail.drag.dl?c=w.rail.drag.sl:"h"==w.rail.drag.dl&&(l=w.rail.drag.st);else{var n=Math.abs(n),a=Math.abs(a),u=w.opt.directionlockdeadzone;if("v"==w.rail.drag.ck){if(n>u&&a<=.3*n)return w.rail.drag=!1,!0;a>u&&(w.rail.drag.dl="f",t("body").scrollTop(t("body").scrollTop()))}else if("h"==w.rail.drag.ck){if(a>u&&n<=.3*az)return w.rail.drag=!1,!0;n>u&&(w.rail.drag.dl="f",t("body").scrollLeft(t("body").scrollLeft()))}}if(w.synched("touchmove",function(){w.rail.drag&&2==w.rail.drag.pt&&(w.prepareTransition&&w.prepareTransition(0),w.rail.scrollable&&w.setScrollTop(l),w.scrollmom.update(s,r),w.railh&&w.railh.scrollable?(w.setScrollLeft(c),w.showCursor(l,c)):w.showCursor(l),x.isie10&&document.selection.clear())}),x.ischrome&&w.istouchcapable&&(o=!1),o)return w.cancelEvent(e)}}}if(w.onmousedown=function(t,e){if(!w.rail.drag||1==w.rail.drag.pt){if(w.locked)return w.cancelEvent(t);w.cancelScroll(),w.rail.drag={x:t.clientX,y:t.clientY,sx:w.scroll.x,sy:w.scroll.y,pt:1,hr:!!e};var i=w.getTarget(t);return!w.ispage&&x.hasmousecapture&&i.setCapture(),w.isiframe&&!x.hasmousecapture&&(w.saved.csspointerevents=w.doc.css("pointer-events"),w.css(w.doc,{"pointer-events":"none"})),w.cancelEvent(t)}},w.onmouseup=function(t){if(w.rail.drag&&(x.hasmousecapture&&document.releaseCapture(),w.isiframe&&!x.hasmousecapture&&w.doc.css("pointer-events",w.saved.csspointerevents),1==w.rail.drag.pt))return w.rail.drag=!1,w.cancelEvent(t)},w.onmousemove=function(t){if(w.rail.drag&&1==w.rail.drag.pt){if(x.ischrome&&0==t.which)return w.onmouseup(t);if(w.cursorfreezed=!0,w.rail.drag.hr){w.scroll.x=w.rail.drag.sx+(t.clientX-w.rail.drag.x),0>w.scroll.x&&(w.scroll.x=0);var e=w.scrollvaluemaxw;w.scroll.x>e&&(w.scroll.x=e)}else w.scroll.y=w.rail.drag.sy+(t.clientY-w.rail.drag.y),0>w.scroll.y&&(w.scroll.y=0),e=w.scrollvaluemax,w.scroll.y>e&&(w.scroll.y=e);return w.synched("mousemove",function(){w.rail.drag&&1==w.rail.drag.pt&&(w.showCursor(),w.rail.drag.hr?w.doScrollLeft(Math.round(w.scroll.x*w.scrollratio.x),w.opt.cursordragspeed):w.doScrollTop(Math.round(w.scroll.y*w.scrollratio.y),w.opt.cursordragspeed))}),w.cancelEvent(t)}},x.cantouch||w.opt.touchbehavior)w.onpreventclick=function(t){if(w.preventclick)return w.preventclick.tg.onclick=w.preventclick.click,w.preventclick=!1,w.cancelEvent(t)},w.bind(w.win,"mousedown",w.ontouchstart),w.onclick=!x.isios&&function(t){return!w.lastmouseup||(w.lastmouseup=!1,w.cancelEvent(t))},w.opt.grabcursorenabled&&x.cursorgrabvalue&&(w.css(w.ispage?w.doc:w.win,{cursor:x.cursorgrabvalue}),w.css(w.rail,{cursor:x.cursorgrabvalue}));else{var y=function(t){if(w.selectiondrag){if(t){var e=w.win.outerHeight();t=t.pageY-w.selectiondrag.top,0<t&&t<e&&(t=0),t>=e&&(t-=e),w.selectiondrag.df=t}0!=w.selectiondrag.df&&(w.doScrollBy(2*-Math.floor(w.selectiondrag.df/6)),w.debounced("doselectionscroll",function(){y()},50))}};w.hasTextSelected="getSelection"in document?function(){return 0<document.getSelection().rangeCount}:"selection"in document?function(){return"None"!=document.selection.type}:function(){return!1},w.onselectionstart=function(t){w.ispage||(w.selectiondrag=w.win.offset())},w.onselectionend=function(t){w.selectiondrag=!1},w.onselectiondrag=function(t){w.selectiondrag&&w.hasTextSelected()&&w.debounced("selectionscroll",function(){y(t)},250)}}x.hasmstouch&&(w.css(w.rail,{"-ms-touch-action":"none"}),w.css(w.cursor,{"-ms-touch-action":"none"}),w.bind(w.win,"MSPointerDown",w.ontouchstart),w.bind(document,"MSPointerUp",w.ontouchend),w.bind(document,"MSPointerMove",w.ontouchmove),w.bind(w.cursor,"MSGestureHold",function(t){t.preventDefault()}),w.bind(w.cursor,"contextmenu",function(t){t.preventDefault()})),this.istouchcapable&&(w.bind(w.win,"touchstart",w.ontouchstart),w.bind(document,"touchend",w.ontouchend),w.bind(document,"touchcancel",w.ontouchend),w.bind(document,"touchmove",w.ontouchmove)),w.bind(w.cursor,"mousedown",w.onmousedown),w.bind(w.cursor,"mouseup",w.onmouseup),w.railh&&(w.bind(w.cursorh,"mousedown",function(t){w.onmousedown(t,!0)}),w.bind(w.cursorh,"mouseup",function(t){if(!w.rail.drag||2!=w.rail.drag.pt)return w.rail.drag=!1,w.hasmoving=!1,w.hideCursor(),x.hasmousecapture&&document.releaseCapture(),w.cancelEvent(t)})),(w.opt.cursordragontouch||!x.cantouch&&!w.opt.touchbehavior)&&(w.rail.css({cursor:"default"}),w.railh&&w.railh.css({cursor:"default"}),w.jqbind(w.rail,"mouseenter",function(){w.canshowonmouseevent&&w.showCursor(),w.rail.active=!0}),w.jqbind(w.rail,"mouseleave",function(){w.rail.active=!1,w.rail.drag||w.hideCursor()}),w.opt.sensitiverail&&(w.bind(w.rail,"click",function(t){w.doRailClick(t,!1,!1)}),w.bind(w.rail,"dblclick",function(t){w.doRailClick(t,!0,!1)}),w.bind(w.cursor,"click",function(t){w.cancelEvent(t)}),w.bind(w.cursor,"dblclick",function(t){w.cancelEvent(t)})),w.railh&&(w.jqbind(w.railh,"mouseenter",function(){w.canshowonmouseevent&&w.showCursor(),w.rail.active=!0}),w.jqbind(w.railh,"mouseleave",function(){w.rail.active=!1,w.rail.drag||w.hideCursor()}),w.opt.sensitiverail&&(w.bind(w.railh,"click",function(t){w.doRailClick(t,!1,!0)}),w.bind(w.railh,"dblclick",function(t){w.doRailClick(t,!0,!0)}),w.bind(w.cursorh,"click",function(t){w.cancelEvent(t)}),w.bind(w.cursorh,"dblclick",function(t){w.cancelEvent(t)})))),x.cantouch||w.opt.touchbehavior?(w.bind(x.hasmousecapture?w.win:document,"mouseup",w.ontouchend),w.bind(document,"mousemove",w.ontouchmove),w.onclick&&w.bind(document,"click",w.onclick),w.opt.cursordragontouch&&(w.bind(w.cursor,"mousedown",w.onmousedown),w.bind(w.cursor,"mousemove",w.onmousemove),w.cursorh&&w.bind(w.cursorh,"mousedown",w.onmousedown),w.cursorh&&w.bind(w.cursorh,"mousemove",w.onmousemove))):(w.bind(x.hasmousecapture?w.win:document,"mouseup",w.onmouseup),w.bind(document,"mousemove",w.onmousemove),w.onclick&&w.bind(document,"click",w.onclick),!w.ispage&&w.opt.enablescrollonselection&&(w.bind(w.win[0],"mousedown",w.onselectionstart),w.bind(document,"mouseup",w.onselectionend),w.bind(w.cursor,"mouseup",w.onselectionend),w.cursorh&&w.bind(w.cursorh,"mouseup",w.onselectionend),w.bind(document,"mousemove",w.onselectiondrag)),w.zoom&&(w.jqbind(w.zoom,"mouseenter",function(){w.canshowonmouseevent&&w.showCursor(),w.rail.active=!0}),w.jqbind(w.zoom,"mouseleave",function(){w.rail.active=!1,w.rail.drag||w.hideCursor()}))),w.opt.enablemousewheel&&(w.isiframe||w.bind(x.isie&&w.ispage?document:w.docscroll,"mousewheel",w.onmousewheel),w.bind(w.rail,"mousewheel",w.onmousewheel),w.railh&&w.bind(w.railh,"mousewheel",w.onmousewheelhr)),!w.ispage&&!x.cantouch&&!/HTML|BODY/.test(w.win[0].nodeName)&&(w.win.attr("tabindex")||w.win.attr({tabindex:o++}),w.jqbind(w.win,"focus",function(t){e=w.getTarget(t).id||!0,w.hasfocus=!0,w.canshowonmouseevent&&w.noticeCursor()}),w.jqbind(w.win,"blur",function(t){e=!1,w.hasfocus=!1}),w.jqbind(w.win,"mouseenter",function(t){i=w.getTarget(t).id||!0,w.hasmousefocus=!0,w.canshowonmouseevent&&w.noticeCursor()}),w.jqbind(w.win,"mouseleave",function(){i=!1,w.hasmousefocus=!1}))}if(w.onkeypress=function(t){if(w.locked&&0==w.page.maxh)return!0;t=t?t:window.e;var o=w.getTarget(t);if(o&&/INPUT|TEXTAREA|SELECT|OPTION/.test(o.nodeName)&&(!o.getAttribute("type")&&!o.type||!/submit|button|cancel/i.tp))return!0;if(w.hasfocus||w.hasmousefocus&&!e||w.ispage&&!e&&!i){if(o=t.keyCode,w.locked&&27!=o)return w.cancelEvent(t);var n=t.ctrlKey||!1,r=t.shiftKey||!1,s=!1;switch(o){case 38:case 63233:w.doScrollBy(72),s=!0;break;case 40:case 63235:w.doScrollBy(-72),s=!0;break;case 37:case 63232:w.railh&&(n?w.doScrollLeft(0):w.doScrollLeftBy(72),s=!0);break;case 39:case 63234:w.railh&&(n?w.doScrollLeft(w.page.maxw):w.doScrollLeftBy(-72),s=!0);break;case 33:case 63276:w.doScrollBy(w.view.h),s=!0;break;case 34:case 63277:w.doScrollBy(-w.view.h),s=!0;break;case 36:case 63273:w.railh&&n?w.doScrollPos(0,0):w.doScrollTo(0),s=!0;break;case 35:case 63275:w.railh&&n?w.doScrollPos(w.page.maxw,w.page.maxh):w.doScrollTo(w.page.maxh),s=!0;break;case 32:w.opt.spacebarenabled&&(r?w.doScrollBy(w.view.h):w.doScrollBy(-w.view.h),s=!0);break;case 27:w.zoomactive&&(w.doZoom(),s=!0)}if(s)return w.cancelEvent(t)}},w.opt.enablekeyboard&&w.bind(document,x.isopera&&!x.isopera12?"keypress":"keydown",w.onkeypress),w.bind(window,"resize",w.lazyResize),w.bind(window,"orientationchange",w.lazyResize),w.bind(window,"load",w.lazyResize),x.ischrome&&!w.ispage&&!w.haswrapper){var b=w.win.attr("style"),l=parseFloat(w.win.css("width"))+1;w.win.css("width",l),w.synched("chromefix",function(){w.win.attr("style",b)})}w.onAttributeChange=function(t){w.lazyResize(250)},!w.ispage&&!w.haswrapper&&(!1!==u?(w.observer=new u(function(t){t.forEach(w.onAttributeChange)}),w.observer.observe(w.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),w.observerremover=new u(function(t){t.forEach(function(t){if(0<t.removedNodes.length)for(var e in t.removedNodes)if(t.removedNodes[e]==w.win[0])return w.remove()})}),w.observerremover.observe(w.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(w.bind(w.win,x.isie&&!x.isie9?"propertychange":"DOMAttrModified",w.onAttributeChange),x.isie9&&w.win[0].attachEvent("onpropertychange",w.onAttributeChange),w.bind(w.win,"DOMNodeRemoved",function(t){t.target==w.win[0]&&w.remove()}))),!w.ispage&&w.opt.boxzoom&&w.bind(window,"resize",w.resizeZoom),w.istextarea&&w.bind(w.win,"mouseup",w.lazyResize),
w.checkrtlmode=!0,w.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var S=function(e){w.iframexd=!1;try{var i="contentDocument"in this?this.contentDocument:this.contentWindow.document}catch(o){w.iframexd=!0,i=!1}return w.iframexd?("console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0):(w.forcescreen=!0,w.isiframe&&(w.iframe={doc:t(i),html:w.doc.contents().find("html")[0],body:w.doc.contents().find("body")[0]},w.getContentSize=function(){return{w:Math.max(w.iframe.html.scrollWidth,w.iframe.body.scrollWidth),h:Math.max(w.iframe.html.scrollHeight,w.iframe.body.scrollHeight)}},w.docscroll=t(w.iframe.body)),!x.isios&&w.opt.iframeautoresize&&!w.isiframe&&(w.win.scrollTop(0),w.doc.height(""),e=Math.max(i.getElementsByTagName("html")[0].scrollHeight,i.body.scrollHeight),w.doc.height(e)),w.lazyResize(30),x.isie7&&w.css(t(w.iframe.html),{"overflow-y":"hidden"}),w.css(t(w.iframe.body),{"overflow-y":"hidden"}),"contentWindow"in this?w.bind(this.contentWindow,"scroll",w.onscroll):w.bind(i,"scroll",w.onscroll),w.opt.enablemousewheel&&w.bind(i,"mousewheel",w.onmousewheel),w.opt.enablekeyboard&&w.bind(i,x.isopera?"keypress":"keydown",w.onkeypress),(x.cantouch||w.opt.touchbehavior)&&(w.bind(i,"mousedown",w.onmousedown),w.bind(i,"mousemove",function(t){w.onmousemove(t,!0)}),w.opt.grabcursorenabled&&x.cursorgrabvalue&&w.css(t(i.body),{cursor:x.cursorgrabvalue})),w.bind(i,"mouseup",w.onmouseup),void(w.zoom&&(w.opt.dblclickzoom&&w.bind(i,"dblclick",w.doZoom),w.ongesturezoom&&w.bind(i,"gestureend",w.ongesturezoom))))};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){S.call(w.doc[0],!1)},500),w.bind(this.doc,"load",S)}},this.showCursor=function(t,e){w.cursortimeout&&(clearTimeout(w.cursortimeout),w.cursortimeout=0),w.rail&&(w.autohidedom&&(w.autohidedom.stop().css({opacity:w.opt.cursoropacitymax}),w.cursoractive=!0),w.rail.drag&&1==w.rail.drag.pt||("undefined"!=typeof t&&!1!==t&&(w.scroll.y=Math.round(1*t/w.scrollratio.y)),"undefined"!=typeof e&&(w.scroll.x=Math.round(1*e/w.scrollratio.x))),w.cursor.css({height:w.cursorheight,top:w.scroll.y}),w.cursorh&&(!w.rail.align&&w.rail.visibility?w.cursorh.css({width:w.cursorwidth,left:w.scroll.x+w.rail.width}):w.cursorh.css({width:w.cursorwidth,left:w.scroll.x}),w.cursoractive=!0),w.zoom&&w.zoom.stop().css({opacity:w.opt.cursoropacitymax}))},this.hideCursor=function(t){!w.cursortimeout&&w.rail&&w.autohidedom&&(w.cursortimeout=setTimeout(function(){w.rail.active&&w.showonmouseevent||(w.autohidedom.stop().animate({opacity:w.opt.cursoropacitymin}),w.zoom&&w.zoom.stop().animate({opacity:w.opt.cursoropacitymin}),w.cursoractive=!1),w.cursortimeout=0},t||w.opt.hidecursordelay))},this.noticeCursor=function(t,e,i){w.showCursor(e,i),w.rail.active||w.hideCursor(t)},this.getContentSize=w.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:w.haswrapper?function(){return{w:w.doc.outerWidth()+parseInt(w.win.css("paddingLeft"))+parseInt(w.win.css("paddingRight")),h:w.doc.outerHeight()+parseInt(w.win.css("paddingTop"))+parseInt(w.win.css("paddingBottom"))}}:function(){return{w:w.docscroll[0].scrollWidth,h:w.docscroll[0].scrollHeight}},this.onResize=function(t,e){if(!w.win)return!1;if(!w.haswrapper&&!w.ispage){if("none"==w.win.css("display"))return w.visibility&&w.hideRail().hideRailHr(),!1;!w.hidden&&!w.visibility&&w.showRail().showRailHr()}var i=w.page.maxh,o=w.page.maxw,n=w.view.w;if(w.view={w:w.ispage?w.win.width():parseInt(w.win[0].clientWidth),h:w.ispage?w.win.height():parseInt(w.win[0].clientHeight)},w.page=e?e:w.getContentSize(),w.page.maxh=Math.max(0,w.page.h-w.view.h),w.page.maxw=Math.max(0,w.page.w-w.view.w),w.page.maxh==i&&w.page.maxw==o&&w.view.w==n){if(w.ispage)return w;if(i=w.win.offset(),w.lastposition&&(o=w.lastposition,o.top==i.top&&o.left==i.left))return w;w.lastposition=i}return 0==w.page.maxh?(w.hideRail(),w.scrollvaluemax=0,w.scroll.y=0,w.scrollratio.y=0,w.cursorheight=0,w.setScrollTop(0),w.rail.scrollable=!1):w.rail.scrollable=!0,0==w.page.maxw?(w.hideRailHr(),w.scrollvaluemaxw=0,w.scroll.x=0,w.scrollratio.x=0,w.cursorwidth=0,w.setScrollLeft(0),w.railh.scrollable=!1):w.railh.scrollable=!0,w.locked=0==w.page.maxh&&0==w.page.maxw,w.locked?(w.ispage||w.updateScrollBar(w.view),!1):(w.hidden||w.visibility?!w.hidden&&!w.railh.visibility&&w.showRailHr():w.showRail().showRailHr(),w.istextarea&&w.win.css("resize")&&"none"!=w.win.css("resize")&&(w.view.h-=20),w.cursorheight=Math.min(w.view.h,Math.round(w.view.h*(w.view.h/w.page.h))),w.cursorheight=w.opt.cursorfixedheight?w.opt.cursorfixedheight:Math.max(w.opt.cursorminheight,w.cursorheight),w.cursorwidth=Math.min(w.view.w,Math.round(w.view.w*(w.view.w/w.page.w))),w.cursorwidth=w.opt.cursorfixedheight?w.opt.cursorfixedheight:Math.max(w.opt.cursorminheight,w.cursorwidth),w.scrollvaluemax=w.view.h-w.cursorheight-w.cursor.hborder,w.railh&&(w.railh.width=0<w.page.maxh?w.view.w-w.rail.width:w.view.w,w.scrollvaluemaxw=w.railh.width-w.cursorwidth-w.cursorh.wborder),w.checkrtlmode&&w.railh&&(w.checkrtlmode=!1,w.opt.rtlmode&&0==w.scroll.x&&w.setScrollLeft(w.page.maxw)),w.ispage||w.updateScrollBar(w.view),w.scrollratio={x:w.page.maxw/w.scrollvaluemaxw,y:w.page.maxh/w.scrollvaluemax},w.getScrollTop()>w.page.maxh?w.doScrollTop(w.page.maxh):(w.scroll.y=Math.round(w.getScrollTop()*(1/w.scrollratio.y)),w.scroll.x=Math.round(w.getScrollLeft()*(1/w.scrollratio.x)),w.cursoractive&&w.noticeCursor()),w.scroll.y&&0==w.getScrollTop()&&w.doScrollTo(Math.floor(w.scroll.y*w.scrollratio.y)),w)},this.resize=w.onResize,this.lazyResize=function(t){return t=isNaN(t)?30:t,w.delayed("resize",w.resize,t),w},this._bind=function(t,e,i,o){w.events.push({e:t,n:e,f:i,b:o,q:!1}),t.addEventListener?t.addEventListener(e,i,o||!1):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i},this.jqbind=function(e,i,o){w.events.push({e:e,n:i,f:o,q:!0}),t(e).bind(i,o)},this.bind=function(t,e,i,o){var n="jquery"in t?t[0]:t;"mousewheel"==e?"onwheel"in w.win?w._bind(n,"wheel",i,o||!1):(t="undefined"!=typeof document.onmousewheel?"mousewheel":"DOMMouseScroll",v(n,t,i,o||!1),"DOMMouseScroll"==t&&v(n,"MozMousePixelScroll",i,o||!1)):n.addEventListener?(x.cantouch&&/mouseup|mousedown|mousemove/.test(e)&&w._bind(n,"mousedown"==e?"touchstart":"mouseup"==e?"touchend":"touchmove",function(t){if(t.touches){if(2>t.touches.length){var e=t.touches.length?t.touches[0]:t;e.original=t,i.call(this,e)}}else t.changedTouches&&(e=t.changedTouches[0],e.original=t,i.call(this,e))},o||!1),w._bind(n,e,i,o||!1),x.cantouch&&"mouseup"==e&&w._bind(n,"touchcancel",i,o||!1)):w._bind(n,e,function(t){return(t=t||window.event||!1)&&t.srcElement&&(t.target=t.srcElement),"pageY"in t||(t.pageX=t.clientX+document.documentElement.scrollLeft,t.pageY=t.clientY+document.documentElement.scrollTop),!1!==i.call(n,t)&&!1!==o||w.cancelEvent(t)})},this._unbind=function(t,e,i,o){t.removeEventListener?t.removeEventListener(e,i,o):t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=!1},this.unbindAll=function(){for(var t=0;t<w.events.length;t++){var e=w.events[t];e.q?e.e.unbind(e.n,e.f):w._unbind(e.e,e.n,e.f,e.b)}},this.cancelEvent=function(t){return!!(t=t.original?t.original:t?t:window.event||!1)&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.preventManipulation&&t.preventManipulation(),t.cancelBubble=!0,t.cancel=!0,t.returnValue=!1)},this.stopPropagation=function(t){return!!(t=t.original?t.original:t?t:window.event||!1)&&(t.stopPropagation?t.stopPropagation():(t.cancelBubble&&(t.cancelBubble=!0),!1))},this.showRail=function(){return 0==w.page.maxh||!w.ispage&&"none"==w.win.css("display")||(w.visibility=!0,w.rail.visibility=!0,w.rail.css("display","block")),w},this.showRailHr=function(){return w.railh?(0==w.page.maxw||!w.ispage&&"none"==w.win.css("display")||(w.railh.visibility=!0,w.railh.css("display","block")),w):w},this.hideRail=function(){return w.visibility=!1,w.rail.visibility=!1,w.rail.css("display","none"),w},this.hideRailHr=function(){return w.railh?(w.railh.visibility=!1,w.railh.css("display","none"),w):w},this.show=function(){return w.hidden=!1,w.locked=!1,w.showRail().showRailHr()},this.hide=function(){return w.hidden=!0,w.locked=!0,w.hideRail().hideRailHr()},this.toggle=function(){return w.hidden?w.show():w.hide()},this.remove=function(){w.stop(),w.cursortimeout&&clearTimeout(w.cursortimeout),w.doZoomOut(),w.unbindAll(),!1!==w.observer&&w.observer.disconnect(),!1!==w.observerremover&&w.observerremover.disconnect(),w.events=[],w.cursor&&(w.cursor.remove(),w.cursor=null),w.cursorh&&(w.cursorh.remove(),w.cursorh=null),w.rail&&(w.rail.remove(),w.rail=null),w.railh&&(w.railh.remove(),w.railh=null),w.zoom&&(w.zoom.remove(),w.zoom=null);for(var t=0;t<w.saved.css.length;t++){var e=w.saved.css[t];e[0].css(e[1],"undefined"==typeof e[2]?"":e[2])}return w.saved=!1,w.me.data("__nicescroll",""),w.me=null,w.doc=null,w.docscroll=null,w.win=null,w},this.scrollstart=function(t){return this.onscrollstart=t,w},this.scrollend=function(t){return this.onscrollend=t,w},this.scrollcancel=function(t){return this.onscrollcancel=t,w},this.zoomin=function(t){return this.onzoomin=t,w},this.zoomout=function(t){return this.onzoomout=t,w},this.isScrollable=function(e){if(e=e.target?e.target:e,"OPTION"==e.nodeName)return!0;for(;e&&1==e.nodeType&&!/BODY|HTML/.test(e.nodeName);){var i=t(e),i=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(i))return e.clientHeight!=e.scrollHeight;e=!!e.parentNode&&e.parentNode}return!1},this.getViewport=function(e){for(e=!(!e||!e.parentNode)&&e.parentNode;e&&1==e.nodeType&&!/BODY|HTML/.test(e.nodeName);){var i=t(e),o=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(o)&&e.clientHeight!=e.scrollHeight||0<i.getNiceScroll().length)return i;e=!!e.parentNode&&e.parentNode}return!1},this.onmousewheel=function(t){if(w.locked)return!0;if(w.rail.drag)return w.cancelEvent(t);if(!w.rail.scrollable)return!w.railh||!w.railh.scrollable||w.onmousewheelhr(t);var e=+new Date,i=!1;return w.opt.preservenativescrolling&&w.checkarea+600<e&&(w.nativescrollingarea=w.isScrollable(t),i=!0),w.checkarea=e,!!w.nativescrollingarea||((t=y(t,!1,i))&&(w.checkarea=0),t)},this.onmousewheelhr=function(t){if(w.locked||!w.railh.scrollable)return!0;if(w.rail.drag)return w.cancelEvent(t);var e=+new Date,i=!1;return w.opt.preservenativescrolling&&w.checkarea+600<e&&(w.nativescrollingarea=w.isScrollable(t),i=!0),w.checkarea=e,!!w.nativescrollingarea||(w.locked?w.cancelEvent(t):y(t,!0,i))},this.stop=function(){return w.cancelScroll(),w.scrollmon&&w.scrollmon.stop(),w.cursorfreezed=!1,w.scroll.y=Math.round(w.getScrollTop()*(1/w.scrollratio.y)),w.noticeCursor(),w},this.getTransitionSpeed=function(t){var e=Math.round(10*w.opt.scrollspeed);return t=Math.min(e,Math.round(t/20*w.opt.scrollspeed)),20<t?t:0},w.opt.smoothscroll?w.ishwscroll&&x.hastransition&&w.opt.usetransition?(this.prepareTransition=function(t,e){var i=e?20<t?t:0:w.getTransitionSpeed(t),o=i?x.prefixstyle+"transform "+i+"ms ease-out":"";return w.lasttransitionstyle&&w.lasttransitionstyle==o||(w.lasttransitionstyle=o,w.doc.css(x.transitionstyle,o)),i},this.doScrollLeft=function(t,e){var i=w.scrollrunning?w.newscrolly:w.getScrollTop();w.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=w.scrollrunning?w.newscrollx:w.getScrollLeft();w.doScrollPos(i,t,e)},this.doScrollPos=function(t,e,i){var o=w.getScrollTop(),n=w.getScrollLeft();return(0>(w.newscrolly-o)*(e-o)||0>(w.newscrollx-n)*(t-n))&&w.cancelScroll(),0==w.opt.bouncescroll&&(0>e?e=0:e>w.page.maxh&&(e=w.page.maxh),0>t?t=0:t>w.page.maxw&&(t=w.page.maxw)),(!w.scrollrunning||t!=w.newscrollx||e!=w.newscrolly)&&(w.newscrolly=e,w.newscrollx=t,w.newscrollspeed=i||!1,!w.timer&&void(w.timer=setTimeout(function(){var i,o,n=w.getScrollTop(),r=w.getScrollLeft();i=t-r,o=e-n,i=Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(o,2))),i=w.newscrollspeed&&1<w.newscrollspeed?w.newscrollspeed:w.getTransitionSpeed(i),w.newscrollspeed&&1>=w.newscrollspeed&&(i*=w.newscrollspeed),w.prepareTransition(i,!0),w.timerscroll&&w.timerscroll.tm&&clearInterval(w.timerscroll.tm),0<i&&(!w.scrollrunning&&w.onscrollstart&&w.onscrollstart.call(w,{type:"scrollstart",current:{x:r,y:n},request:{x:t,y:e},end:{x:w.newscrollx,y:w.newscrolly},speed:i}),x.transitionend?w.scrollendtrapped||(w.scrollendtrapped=!0,w.bind(w.doc,x.transitionend,w.onScrollEnd,!1)):(w.scrollendtrapped&&clearTimeout(w.scrollendtrapped),w.scrollendtrapped=setTimeout(w.onScrollEnd,i)),w.timerscroll={bz:new BezierClass(n,w.newscrolly,i,0,0,.58,1),bh:new BezierClass(r,w.newscrollx,i,0,0,.58,1)},w.cursorfreezed||(w.timerscroll.tm=setInterval(function(){w.showCursor(w.getScrollTop(),w.getScrollLeft())},60))),w.synched("doScroll-set",function(){w.timer=0,w.scrollendtrapped&&(w.scrollrunning=!0),w.setScrollTop(w.newscrolly),w.setScrollLeft(w.newscrollx),w.scrollendtrapped||w.onScrollEnd()})},50)))},this.cancelScroll=function(){if(!w.scrollendtrapped)return!0;var t=w.getScrollTop(),e=w.getScrollLeft();return w.scrollrunning=!1,x.transitionend||clearTimeout(x.transitionend),w.scrollendtrapped=!1,w._unbind(w.doc,x.transitionend,w.onScrollEnd),w.prepareTransition(0),w.setScrollTop(t),w.railh&&w.setScrollLeft(e),w.timerscroll&&w.timerscroll.tm&&clearInterval(w.timerscroll.tm),w.timerscroll=!1,w.cursorfreezed=!1,w.showCursor(t,e),w},this.onScrollEnd=function(){w.scrollendtrapped&&w._unbind(w.doc,x.transitionend,w.onScrollEnd),w.scrollendtrapped=!1,w.prepareTransition(0),w.timerscroll&&w.timerscroll.tm&&clearInterval(w.timerscroll.tm),w.timerscroll=!1;var t=w.getScrollTop(),e=w.getScrollLeft();return w.setScrollTop(t),w.railh&&w.setScrollLeft(e),w.noticeCursor(!1,t,e),w.cursorfreezed=!1,0>t?t=0:t>w.page.maxh&&(t=w.page.maxh),0>e?e=0:e>w.page.maxw&&(e=w.page.maxw),t!=w.newscrolly||e!=w.newscrollx?w.doScrollPos(e,t,w.opt.snapbackspeed):(w.onscrollend&&w.scrollrunning&&w.onscrollend.call(w,{type:"scrollend",current:{x:e,y:t},end:{x:w.newscrollx,y:w.newscrolly}}),void(w.scrollrunning=!1))}):(this.doScrollLeft=function(t,e){var i=w.scrollrunning?w.newscrolly:w.getScrollTop();w.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=w.scrollrunning?w.newscrollx:w.getScrollLeft();w.doScrollPos(i,t,e)},this.doScrollPos=function(t,e,i){function o(){if(w.cancelAnimationFrame)return!0;if(w.scrollrunning=!0,d=1-d)return w.timer=l(o)||1;var t=0,e=sy=w.getScrollTop();if(w.dst.ay){var e=w.bzscroll?w.dst.py+w.bzscroll.getNow()*w.dst.ay:w.newscrolly,i=e-sy;(0>i&&e<w.newscrolly||0<i&&e>w.newscrolly)&&(e=w.newscrolly),w.setScrollTop(e),e==w.newscrolly&&(t=1)}else t=1;var n=sx=w.getScrollLeft();w.dst.ax?(n=w.bzscroll?w.dst.px+w.bzscroll.getNow()*w.dst.ax:w.newscrollx,i=n-sx,(0>i&&n<w.newscrollx||0<i&&n>w.newscrollx)&&(n=w.newscrollx),w.setScrollLeft(n),n==w.newscrollx&&(t+=1)):t+=1,2==t?(w.timer=0,w.cursorfreezed=!1,w.bzscroll=!1,w.scrollrunning=!1,0>e?e=0:e>w.page.maxh&&(e=w.page.maxh),0>n?n=0:n>w.page.maxw&&(n=w.page.maxw),n!=w.newscrollx||e!=w.newscrolly?w.doScrollPos(n,e):w.onscrollend&&w.onscrollend.call(w,{type:"scrollend",current:{x:sx,y:sy},end:{x:w.newscrollx,y:w.newscrolly}})):w.timer=l(o)||1}if(e="undefined"==typeof e||!1===e?w.getScrollTop(!0):e,w.timer&&w.newscrolly==e&&w.newscrollx==t)return!0;w.timer&&c(w.timer),w.timer=0;var n=w.getScrollTop(),r=w.getScrollLeft();(0>(w.newscrolly-n)*(e-n)||0>(w.newscrollx-r)*(t-r))&&w.cancelScroll(),w.newscrolly=e,w.newscrollx=t,w.bouncescroll&&w.rail.visibility||(0>w.newscrolly?w.newscrolly=0:w.newscrolly>w.page.maxh&&(w.newscrolly=w.page.maxh)),w.bouncescroll&&w.railh.visibility||(0>w.newscrollx?w.newscrollx=0:w.newscrollx>w.page.maxw&&(w.newscrollx=w.page.maxw)),w.dst={},w.dst.x=t-r,w.dst.y=e-n,w.dst.px=r,w.dst.py=n;var s=Math.round(Math.sqrt(Math.pow(w.dst.x,2)+Math.pow(w.dst.y,2)));w.dst.ax=w.dst.x/s,w.dst.ay=w.dst.y/s;var a=0,u=s;if(0==w.dst.x?(a=n,u=e,w.dst.ay=1,w.dst.py=0):0==w.dst.y&&(a=r,u=t,w.dst.ax=1,w.dst.px=0),s=w.getTransitionSpeed(s),i&&1>=i&&(s*=i),w.bzscroll=0<s&&(w.bzscroll?w.bzscroll.update(u,s):new BezierClass(a,u,s,0,1,0,1)),!w.timer){(n==w.page.maxh&&e>=w.page.maxh||r==w.page.maxw&&t>=w.page.maxw)&&w.checkContentSize();var d=1;w.cancelAnimationFrame=!1,w.timer=1,w.onscrollstart&&!w.scrollrunning&&w.onscrollstart.call(w,{type:"scrollstart",current:{x:r,y:n},request:{x:t,y:e},end:{x:w.newscrollx,y:w.newscrolly},speed:s}),o(),(n==w.page.maxh&&e>=n||r==w.page.maxw&&t>=r)&&w.checkContentSize(),w.noticeCursor()}},this.cancelScroll=function(){return w.timer&&c(w.timer),w.timer=0,w.bzscroll=!1,w.scrollrunning=!1,w}):(this.doScrollLeft=function(t,e){var i=w.getScrollTop();w.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=w.getScrollLeft();w.doScrollPos(i,t,e)},this.doScrollPos=function(t,e,i){var o=t>w.page.maxw?w.page.maxw:t;0>o&&(o=0);var n=e>w.page.maxh?w.page.maxh:e;0>n&&(n=0),w.synched("scroll",function(){w.setScrollTop(n),w.setScrollLeft(o)})},this.cancelScroll=function(){}),this.doScrollBy=function(t,e){var i=0,i=e?Math.floor((w.scroll.y-t)*w.scrollratio.y):(w.timer?w.newscrolly:w.getScrollTop(!0))-t;if(w.bouncescroll){var o=Math.round(w.view.h/2);i<-o?i=-o:i>w.page.maxh+o&&(i=w.page.maxh+o)}return w.cursorfreezed=!1,py=w.getScrollTop(!0),0>i&&0>=py?w.noticeCursor():i>w.page.maxh&&py>=w.page.maxh?(w.checkContentSize(),w.noticeCursor()):void w.doScrollTop(i)},this.doScrollLeftBy=function(t,e){var i=0,i=e?Math.floor((w.scroll.x-t)*w.scrollratio.x):(w.timer?w.newscrollx:w.getScrollLeft(!0))-t;if(w.bouncescroll){var o=Math.round(w.view.w/2);i<-o?i=-o:i>w.page.maxw+o&&(i=w.page.maxw+o)}return w.cursorfreezed=!1,px=w.getScrollLeft(!0),0>i&&0>=px||i>w.page.maxw&&px>=w.page.maxw?w.noticeCursor():void w.doScrollLeft(i)},this.doScrollTo=function(t,e){e&&Math.round(t*w.scrollratio.y),w.cursorfreezed=!1,w.doScrollTop(t)},this.checkContentSize=function(){var t=w.getContentSize();(t.h!=w.page.h||t.w!=w.page.w)&&w.resize(!1,t)},w.onscroll=function(t){w.rail.drag||w.cursorfreezed||w.synched("scroll",function(){w.scroll.y=Math.round(w.getScrollTop()*(1/w.scrollratio.y)),w.railh&&(w.scroll.x=Math.round(w.getScrollLeft()*(1/w.scrollratio.x))),w.noticeCursor()})},w.bind(w.docscroll,"scroll",w.onscroll),this.doZoomIn=function(e){if(!w.zoomactive){w.zoomactive=!0,w.zoomrestore={style:{}};var i,o="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),n=w.win[0].style;for(i in o){var s=o[i];w.zoomrestore.style[s]="undefined"!=typeof n[s]?n[s]:""}return w.zoomrestore.style.width=w.win.css("width"),w.zoomrestore.style.height=w.win.css("height"),w.zoomrestore.padding={w:w.win.outerWidth()-w.win.width(),h:w.win.outerHeight()-w.win.height()},x.isios4&&(w.zoomrestore.scrollTop=t(window).scrollTop(),t(window).scrollTop(0)),w.win.css({position:x.isios4?"absolute":"fixed",top:0,left:0,"z-index":r+100,margin:"0px"}),o=w.win.css("backgroundColor"),(""==o||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(o))&&w.win.css("backgroundColor","#fff"),w.rail.css({"z-index":r+101}),w.zoom.css({"z-index":r+102}),w.zoom.css("backgroundPosition","0px -18px"),w.resizeZoom(),w.onzoomin&&w.onzoomin.call(w),w.cancelEvent(e)}},this.doZoomOut=function(e){if(w.zoomactive)return w.zoomactive=!1,w.win.css("margin",""),w.win.css(w.zoomrestore.style),x.isios4&&t(window).scrollTop(w.zoomrestore.scrollTop),w.rail.css({"z-index":w.zindex}),w.zoom.css({"z-index":w.zindex}),w.zoomrestore=!1,w.zoom.css("backgroundPosition","0px 0px"),w.onResize(),w.onzoomout&&w.onzoomout.call(w),w.cancelEvent(e)},this.doZoom=function(t){return w.zoomactive?w.doZoomOut(t):w.doZoomIn(t)},this.resizeZoom=function(){if(w.zoomactive){var e=w.getScrollTop();w.win.css({width:t(window).width()-w.zoomrestore.padding.w+"px",height:t(window).height()-w.zoomrestore.padding.h+"px"}),w.onResize(),w.setScrollTop(Math.min(w.page.maxh,e))}},this.init(),t.nicescroll.push(this)},m=function(t){var e=this;this.nc=t,this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0,this.snapy=this.snapx=!1,this.demuly=this.demulx=0,this.lastscrolly=this.lastscrollx=-1,this.timer=this.chky=this.chkx=0,this.time=function(){return+new Date},this.reset=function(t,i){e.stop();var o=e.time();e.steptime=0,e.lasttime=o,e.speedx=0,e.speedy=0,e.lastx=t,e.lasty=i,e.lastscrollx=-1,e.lastscrolly=-1},this.update=function(t,i){var o=e.time();e.steptime=o-e.lasttime,e.lasttime=o;var o=i-e.lasty,n=t-e.lastx,r=e.nc.getScrollTop(),s=e.nc.getScrollLeft(),r=r+o,s=s+n;e.snapx=0>s||s>e.nc.page.maxw,e.snapy=0>r||r>e.nc.page.maxh,e.speedx=n,e.speedy=o,e.lastx=t,e.lasty=i},this.stop=function(){e.nc.unsynched("domomentum2d"),e.timer&&clearTimeout(e.timer),e.timer=0,e.lastscrollx=-1,e.lastscrolly=-1},this.doSnapy=function(t,i){var o=!1;0>i?(i=0,o=!0):i>e.nc.page.maxh&&(i=e.nc.page.maxh,o=!0),0>t?(t=0,o=!0):t>e.nc.page.maxw&&(t=e.nc.page.maxw,o=!0),o&&e.nc.doScrollPos(t,i,e.nc.opt.snapbackspeed)},this.doMomentum=function(t){var i=e.time(),o=t?i+t:e.lasttime;t=e.nc.getScrollLeft();var n=e.nc.getScrollTop(),r=e.nc.page.maxh,s=e.nc.page.maxw;if(e.speedx=0<s?Math.min(60,e.speedx):0,e.speedy=0<r?Math.min(60,e.speedy):0,o=o&&50>=i-o,(0>n||n>r||0>t||t>s)&&(o=!1),t=!(!e.speedx||!o)&&e.speedx,e.speedy&&o&&e.speedy||t){var a=Math.max(16,e.steptime);50<a&&(t=a/50,e.speedx*=t,e.speedy*=t,a=50),e.demulxy=0,e.lastscrollx=e.nc.getScrollLeft(),e.chkx=e.lastscrollx,e.lastscrolly=e.nc.getScrollTop(),e.chky=e.lastscrolly;var l=e.lastscrollx,c=e.lastscrolly,u=function(){var t=600<e.time()-i?.04:.02;e.speedx&&(l=Math.floor(e.lastscrollx-e.speedx*(1-e.demulxy)),e.lastscrollx=l,0>l||l>s)&&(t=.1),e.speedy&&(c=Math.floor(e.lastscrolly-e.speedy*(1-e.demulxy)),e.lastscrolly=c,0>c||c>r)&&(t=.1),e.demulxy=Math.min(1,e.demulxy+t),e.nc.synched("domomentum2d",function(){e.speedx&&(e.nc.getScrollLeft()!=e.chkx&&e.stop(),e.chkx=l,e.nc.setScrollLeft(l)),e.speedy&&(e.nc.getScrollTop()!=e.chky&&e.stop(),e.chky=c,e.nc.setScrollTop(c)),e.timer||(e.nc.hideCursor(),e.doSnapy(l,c))}),1>e.demulxy?e.timer=setTimeout(u,a):(e.stop(),e.nc.hideCursor(),e.doSnapy(l,c))};u()}else e.doSnapy(e.nc.getScrollLeft(),e.nc.getScrollTop())}},g=t.fn.scrollTop;t.cssHooks.pageYOffset={get:function(e,i,o){return(i=t.data(e,"__nicescroll")||!1)&&i.ishwscroll?i.getScrollTop():g.call(e)},set:function(e,i){var o=t.data(e,"__nicescroll")||!1;return o&&o.ishwscroll?o.setScrollTop(parseInt(i)):g.call(e,i),this}},t.fn.scrollTop=function(e){if("undefined"==typeof e){var i=!!this[0]&&(t.data(this[0],"__nicescroll")||!1);return i&&i.ishwscroll?i.getScrollTop():g.call(this)}return this.each(function(){var i=t.data(this,"__nicescroll")||!1;i&&i.ishwscroll?i.setScrollTop(parseInt(e)):g.call(t(this),e)})};var v=t.fn.scrollLeft;t.cssHooks.pageXOffset={get:function(e,i,o){return(i=t.data(e,"__nicescroll")||!1)&&i.ishwscroll?i.getScrollLeft():v.call(e)},set:function(e,i){var o=t.data(e,"__nicescroll")||!1;return o&&o.ishwscroll?o.setScrollLeft(parseInt(i)):v.call(e,i),this}},t.fn.scrollLeft=function(e){if("undefined"==typeof e){var i=!!this[0]&&(t.data(this[0],"__nicescroll")||!1);return i&&i.ishwscroll?i.getScrollLeft():v.call(this)}return this.each(function(){var i=t.data(this,"__nicescroll")||!1;i&&i.ishwscroll?i.setScrollLeft(parseInt(e)):v.call(t(this),e)})};var y=function(e){var i=this;if(this.length=0,this.name="nicescrollarray",this.each=function(t){for(var e=0;e<i.length;e++)t.call(i[e]);return i},this.push=function(t){i[i.length]=t,i.length++},this.eq=function(t){return i[t]},e)for(a=0;a<e.length;a++){var o=t.data(e[a],"__nicescroll")||!1;o&&(this[this.length]=o,this.length++)}return this};!function(t,e,i){for(var o=0;o<e.length;o++)i(t,e[o])}(y.prototype,"show hide toggle onResize resize remove stop doScrollPos".split(" "),function(t,e){t[e]=function(){var t=arguments;return this.each(function(){this[e].apply(this,t)})}}),t.fn.getNiceScroll=function(e){return"undefined"==typeof e?new y(this):t.data(this[e],"__nicescroll")||!1},t.extend(t.expr[":"],{nicescroll:function(e){return!!t.data(e,"__nicescroll")}}),t.fn.niceScroll=function(e,i){"undefined"==typeof i&&"object"==typeof e&&!("jquery"in e)&&(i=e,e=!1);var o=new y;"undefined"==typeof i&&(i={}),e&&(i.doc=t(e),i.win=t(this));var n=!("doc"in i);return!n&&!("win"in i)&&(i.win=t(this)),this.each(function(){var e=t(this).data("__nicescroll")||!1;e||(i.doc=n?t(this):i.doc,e=new f(i,t(this)),t(this).data("__nicescroll",e)),o.push(e)}),1==o.length?o[0]:o},window.NiceScroll={getjQuery:function(){return t}},t.nicescroll||(t.nicescroll=new y,t.nicescroll.options=d)}(jQuery),function(t){t.flexslider=function(e,i){var o=t(e);o.vars=t.extend({},t.flexslider.defaults,i);var n,r=o.vars.namespace,s=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,a=("ontouchstart"in window||s||window.DocumentTouch&&document instanceof DocumentTouch)&&o.vars.touch,l="click touchend MSPointerUp",c="",u="vertical"===o.vars.direction,d=o.vars.reverse,h=o.vars.itemWidth>0,p="fade"===o.vars.animation,f=""!==o.vars.asNavFor,m={},g=!0;t.data(e,"flexslider",o),m={init:function(){o.animating=!1,o.currentSlide=parseInt(o.vars.startAt?o.vars.startAt:0),isNaN(o.currentSlide)&&(o.currentSlide=0),o.animatingTo=o.currentSlide,o.atEnd=0===o.currentSlide||o.currentSlide===o.last,o.containerSelector=o.vars.selector.substr(0,o.vars.selector.search(" ")),o.slides=t(o.vars.selector,o),o.container=t(o.containerSelector,o),o.count=o.slides.length,o.syncExists=t(o.vars.sync).length>0,"slide"===o.vars.animation&&(o.vars.animation="swing"),o.prop=u?"top":"marginLeft",o.args={},o.manualPause=!1,o.stopped=!1,o.started=!1,o.startTimeout=null,o.transitions=!o.vars.video&&!p&&o.vars.useCSS&&function(){var t=document.createElement("div"),e=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in e)if(void 0!==t.style[e[i]])return o.pfx=e[i].replace("Perspective","").toLowerCase(),o.prop="-"+o.pfx+"-transform",!0;return!1}(),""!==o.vars.controlsContainer&&(o.controlsContainer=t(o.vars.controlsContainer).length>0&&t(o.vars.controlsContainer)),""!==o.vars.manualControls&&(o.manualControls=t(o.vars.manualControls).length>0&&t(o.vars.manualControls)),o.vars.randomize&&(o.slides.sort(function(){return Math.round(Math.random())-.5}),o.container.empty().append(o.slides)),o.doMath(),o.setup("init"),o.vars.controlNav&&m.controlNav.setup(),o.vars.directionNav&&m.directionNav.setup(),o.vars.keyboard&&(1===t(o.containerSelector).length||o.vars.multipleKeyboard)&&t(document).bind("keyup",function(t){var e=t.keyCode;if(!o.animating&&(39===e||37===e)){var i=39===e?o.getTarget("next"):37===e&&o.getTarget("prev");o.flexAnimate(i,o.vars.pauseOnAction)}}),o.vars.mousewheel&&o.bind("mousewheel",function(t,e,i,n){t.preventDefault();var r=e<0?o.getTarget("next"):o.getTarget("prev");o.flexAnimate(r,o.vars.pauseOnAction)}),o.vars.pausePlay&&m.pausePlay.setup(),o.vars.slideshow&&o.vars.pauseInvisible&&m.pauseInvisible.init(),o.vars.slideshow&&(o.vars.pauseOnHover&&o.hover(function(){o.manualPlay||o.manualPause||o.pause()},function(){o.manualPause||o.manualPlay||o.stopped||o.play()}),o.vars.pauseInvisible&&m.pauseInvisible.isHidden()||(o.vars.initDelay>0?o.startTimeout=setTimeout(o.play,o.vars.initDelay):o.play())),f&&m.asNav.setup(),a&&o.vars.touch&&m.touch(),(!p||p&&o.vars.smoothHeight)&&t(window).bind("resize orientationchange focus",m.resize),o.find("img").attr("draggable","false"),setTimeout(function(){o.vars.start(o)},200)},asNav:{setup:function(){o.asNav=!0,o.animatingTo=Math.floor(o.currentSlide/o.move),o.currentItem=o.currentSlide,o.slides.removeClass(r+"active-slide").eq(o.currentItem).addClass(r+"active-slide"),s?(e._slider=o,o.slides.each(function(){var e=this;e._gesture=new MSGesture,e._gesture.target=e,e.addEventListener("MSPointerDown",function(t){t.preventDefault(),t.currentTarget._gesture&&t.currentTarget._gesture.addPointer(t.pointerId)},!1),e.addEventListener("MSGestureTap",function(e){e.preventDefault();var i=t(this),n=i.index();t(o.vars.asNavFor).data("flexslider").animating||i.hasClass("active")||(o.direction=o.currentItem<n?"next":"prev",o.flexAnimate(n,o.vars.pauseOnAction,!1,!0,!0))})})):o.slides.click(function(e){e.preventDefault();var i=t(this),n=i.index(),s=i.offset().left-t(o).scrollLeft();s<=0&&i.hasClass(r+"active-slide")?o.flexAnimate(o.getTarget("prev"),!0):t(o.vars.asNavFor).data("flexslider").animating||i.hasClass(r+"active-slide")||(o.direction=o.currentItem<n?"next":"prev",o.flexAnimate(n,o.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){o.manualControls?m.controlNav.setupManual():m.controlNav.setupPaging()},setupPaging:function(){var e,i,n="thumbnails"===o.vars.controlNav?"control-thumbs":"control-paging",s=1;if(o.controlNavScaffold=t('<ol class="'+r+"control-nav "+r+n+'"></ol>'),o.pagingCount>1)for(var a=0;a<o.pagingCount;a++){if(i=o.slides.eq(a),e="thumbnails"===o.vars.controlNav?'<img src="'+i.attr("data-thumb")+'"/>':"<a>"+s+"</a>","thumbnails"===o.vars.controlNav&&!0===o.vars.thumbCaptions){var u=i.attr("data-thumbcaption");""!=u&&void 0!=u&&(e+='<span class="'+r+'caption">'+u+"</span>")}o.controlNavScaffold.append("<li>"+e+"</li>"),s++}o.controlsContainer?t(o.controlsContainer).append(o.controlNavScaffold):o.append(o.controlNavScaffold),m.controlNav.set(),m.controlNav.active(),o.controlNavScaffold.delegate("a, img",l,function(e){if(e.preventDefault(),""===c||c===e.type){var i=t(this),n=o.controlNav.index(i);i.hasClass(r+"active")||(o.direction=n>o.currentSlide?"next":"prev",o.flexAnimate(n,o.vars.pauseOnAction))}""===c&&(c=e.type),m.setToClearWatchedEvent()})},setupManual:function(){o.controlNav=o.manualControls,m.controlNav.active(),o.controlNav.bind(l,function(e){if(e.preventDefault(),""===c||c===e.type){var i=t(this),n=o.controlNav.index(i);i.hasClass(r+"active")||(n>o.currentSlide?o.direction="next":o.direction="prev",o.flexAnimate(n,o.vars.pauseOnAction))}""===c&&(c=e.type),m.setToClearWatchedEvent()})},set:function(){var e="thumbnails"===o.vars.controlNav?"img":"a";o.controlNav=t("."+r+"control-nav li "+e,o.controlsContainer?o.controlsContainer:o)},active:function(){o.controlNav.removeClass(r+"active").eq(o.animatingTo).addClass(r+"active")},update:function(e,i){o.pagingCount>1&&"add"===e?o.controlNavScaffold.append(t("<li><a>"+o.count+"</a></li>")):1===o.pagingCount?o.controlNavScaffold.find("li").remove():o.controlNav.eq(i).closest("li").remove(),m.controlNav.set(),o.pagingCount>1&&o.pagingCount!==o.controlNav.length?o.update(i,e):m.controlNav.active()}},directionNav:{setup:function(){var e=t('<ul class="'+r+'direction-nav"><li><a class="'+r+'prev" href="#">'+o.vars.prevText+'</a></li><li><a class="'+r+'next" href="#">'+o.vars.nextText+"</a></li></ul>");o.controlsContainer?(t(o.controlsContainer).append(e),o.directionNav=t("."+r+"direction-nav li a",o.controlsContainer)):(o.append(e),o.directionNav=t("."+r+"direction-nav li a",o)),m.directionNav.update(),o.directionNav.bind(l,function(e){e.preventDefault();var i;""!==c&&c!==e.type||(i=t(this).hasClass(r+"next")?o.getTarget("next"):o.getTarget("prev"),o.flexAnimate(i,o.vars.pauseOnAction)),""===c&&(c=e.type),m.setToClearWatchedEvent()})},update:function(){var t=r+"disabled";1===o.pagingCount?o.directionNav.addClass(t).attr("tabindex","-1"):o.vars.animationLoop?o.directionNav.removeClass(t).removeAttr("tabindex"):0===o.animatingTo?o.directionNav.removeClass(t).filter("."+r+"prev").addClass(t).attr("tabindex","-1"):o.animatingTo===o.last?o.directionNav.removeClass(t).filter("."+r+"next").addClass(t).attr("tabindex","-1"):o.directionNav.removeClass(t).removeAttr("tabindex")}},pausePlay:{setup:function(){var e=t('<div class="'+r+'pauseplay"><a></a></div>');o.controlsContainer?(o.controlsContainer.append(e),o.pausePlay=t("."+r+"pauseplay a",o.controlsContainer)):(o.append(e),o.pausePlay=t("."+r+"pauseplay a",o)),m.pausePlay.update(o.vars.slideshow?r+"pause":r+"play"),o.pausePlay.bind(l,function(e){e.preventDefault(),""!==c&&c!==e.type||(t(this).hasClass(r+"pause")?(o.manualPause=!0,o.manualPlay=!1,
o.pause()):(o.manualPause=!1,o.manualPlay=!0,o.play())),""===c&&(c=e.type),m.setToClearWatchedEvent()})},update:function(t){"play"===t?o.pausePlay.removeClass(r+"pause").addClass(r+"play").html(o.vars.playText):o.pausePlay.removeClass(r+"play").addClass(r+"pause").html(o.vars.pauseText)}},touch:function(){function t(t){o.animating?t.preventDefault():(window.navigator.msPointerEnabled||1===t.touches.length)&&(o.pause(),g=u?o.h:o.w,y=Number(new Date),b=t.touches[0].pageX,x=t.touches[0].pageY,m=h&&d&&o.animatingTo===o.last?0:h&&d?o.limit-(o.itemW+o.vars.itemMargin)*o.move*o.animatingTo:h&&o.currentSlide===o.last?o.limit:h?(o.itemW+o.vars.itemMargin)*o.move*o.currentSlide:d?(o.last-o.currentSlide+o.cloneOffset)*g:(o.currentSlide+o.cloneOffset)*g,c=u?x:b,f=u?b:x,e.addEventListener("touchmove",i,!1),e.addEventListener("touchend",n,!1))}function i(t){b=t.touches[0].pageX,x=t.touches[0].pageY,v=u?c-x:c-b,w=u?Math.abs(v)<Math.abs(b-f):Math.abs(v)<Math.abs(x-f);var e=500;(!w||Number(new Date)-y>e)&&(t.preventDefault(),!p&&o.transitions&&(o.vars.animationLoop||(v/=0===o.currentSlide&&v<0||o.currentSlide===o.last&&v>0?Math.abs(v)/g+2:1),o.setProps(m+v,"setTouch")))}function n(t){if(e.removeEventListener("touchmove",i,!1),o.animatingTo===o.currentSlide&&!w&&null!==v){var r=d?-v:v,s=r>0?o.getTarget("next"):o.getTarget("prev");o.canAdvance(s)&&(Number(new Date)-y<550&&Math.abs(r)>50||Math.abs(r)>g/2)?o.flexAnimate(s,o.vars.pauseOnAction):p||o.flexAnimate(o.currentSlide,o.vars.pauseOnAction,!0)}e.removeEventListener("touchend",n,!1),c=null,f=null,v=null,m=null}function r(t){t.stopPropagation(),o.animating?t.preventDefault():(o.pause(),e._gesture.addPointer(t.pointerId),S=0,g=u?o.h:o.w,y=Number(new Date),m=h&&d&&o.animatingTo===o.last?0:h&&d?o.limit-(o.itemW+o.vars.itemMargin)*o.move*o.animatingTo:h&&o.currentSlide===o.last?o.limit:h?(o.itemW+o.vars.itemMargin)*o.move*o.currentSlide:d?(o.last-o.currentSlide+o.cloneOffset)*g:(o.currentSlide+o.cloneOffset)*g)}function a(t){t.stopPropagation();var i=t.target._slider;if(i){var o=-t.translationX,n=-t.translationY;return S+=u?n:o,v=S,w=u?Math.abs(S)<Math.abs(-o):Math.abs(S)<Math.abs(-n),t.detail===t.MSGESTURE_FLAG_INERTIA?void setImmediate(function(){e._gesture.stop()}):void((!w||Number(new Date)-y>500)&&(t.preventDefault(),!p&&i.transitions&&(i.vars.animationLoop||(v=S/(0===i.currentSlide&&S<0||i.currentSlide===i.last&&S>0?Math.abs(S)/g+2:1)),i.setProps(m+v,"setTouch"))))}}function l(t){t.stopPropagation();var e=t.target._slider;if(e){if(e.animatingTo===e.currentSlide&&!w&&null!==v){var i=d?-v:v,o=i>0?e.getTarget("next"):e.getTarget("prev");e.canAdvance(o)&&(Number(new Date)-y<550&&Math.abs(i)>50||Math.abs(i)>g/2)?e.flexAnimate(o,e.vars.pauseOnAction):p||e.flexAnimate(e.currentSlide,e.vars.pauseOnAction,!0)}c=null,f=null,v=null,m=null,S=0}}var c,f,m,g,v,y,w=!1,b=0,x=0,S=0;s?(e.style.msTouchAction="none",e._gesture=new MSGesture,e._gesture.target=e,e.addEventListener("MSPointerDown",r,!1),e._slider=o,e.addEventListener("MSGestureChange",a,!1),e.addEventListener("MSGestureEnd",l,!1)):e.addEventListener("touchstart",t,!1)},resize:function(){!o.animating&&o.is(":visible")&&(h||o.doMath(),p?m.smoothHeight():h?(o.slides.width(o.computedW),o.update(o.pagingCount),o.setProps()):u?(o.viewport.height(o.h),o.setProps(o.h,"setTotal")):(o.vars.smoothHeight&&m.smoothHeight(),o.newSlides.width(o.computedW),o.setProps(o.computedW,"setTotal")))},smoothHeight:function(t){if(!u||p){var e=p?o:o.viewport;t?e.animate({height:o.slides.eq(o.animatingTo).height()},t):e.height(o.slides.eq(o.animatingTo).height())}},sync:function(e){var i=t(o.vars.sync).data("flexslider"),n=o.animatingTo;switch(e){case"animate":i.flexAnimate(n,o.vars.pauseOnAction,!1,!0);break;case"play":i.playing||i.asNav||i.play();break;case"pause":i.pause()}},pauseInvisible:{visProp:null,init:function(){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var e=0;e<t.length;e++)t[e]+"Hidden"in document&&(m.pauseInvisible.visProp=t[e]+"Hidden");if(m.pauseInvisible.visProp){var i=m.pauseInvisible.visProp.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(i,function(){m.pauseInvisible.isHidden()?o.startTimeout?clearTimeout(o.startTimeout):o.pause():o.started?o.play():o.vars.initDelay>0?setTimeout(o.play,o.vars.initDelay):o.play()})}},isHidden:function(){return document[m.pauseInvisible.visProp]||!1}},setToClearWatchedEvent:function(){clearTimeout(n),n=setTimeout(function(){c=""},3e3)}},o.flexAnimate=function(e,i,n,s,l){if(o.vars.animationLoop||e===o.currentSlide||(o.direction=e>o.currentSlide?"next":"prev"),f&&1===o.pagingCount&&(o.direction=o.currentItem<e?"next":"prev"),!o.animating&&(o.canAdvance(e,l)||n)&&o.is(":visible")){if(f&&s){var c=t(o.vars.asNavFor).data("flexslider");if(o.atEnd=0===e||e===o.count-1,c.flexAnimate(e,!0,!1,!0,l),o.direction=o.currentItem<e?"next":"prev",c.direction=o.direction,Math.ceil((e+1)/o.visible)-1===o.currentSlide||0===e)return o.currentItem=e,o.slides.removeClass(r+"active-slide").eq(e).addClass(r+"active-slide"),!1;o.currentItem=e,o.slides.removeClass(r+"active-slide").eq(e).addClass(r+"active-slide"),e=Math.floor(e/o.visible)}if(o.animating=!0,o.animatingTo=e,i&&o.pause(),o.vars.before(o),o.syncExists&&!l&&m.sync("animate"),o.vars.controlNav&&m.controlNav.active(),h||o.slides.removeClass(r+"active-slide").eq(e).addClass(r+"active-slide"),o.atEnd=0===e||e===o.last,o.vars.directionNav&&m.directionNav.update(),e===o.last&&(o.vars.end(o),o.vars.animationLoop||o.pause()),p)a?(o.slides.eq(o.currentSlide).css({opacity:0,zIndex:1}),o.slides.eq(e).css({opacity:1,zIndex:2}),o.wrapup(w)):(o.slides.eq(o.currentSlide).css({zIndex:1}).animate({opacity:0},o.vars.animationSpeed,o.vars.easing),o.slides.eq(e).css({zIndex:2}).animate({opacity:1},o.vars.animationSpeed,o.vars.easing,o.wrapup));else{var g,v,y,w=u?o.slides.filter(":first").height():o.computedW;h?(g=o.vars.itemMargin,y=(o.itemW+g)*o.move*o.animatingTo,v=y>o.limit&&1!==o.visible?o.limit:y):v=0===o.currentSlide&&e===o.count-1&&o.vars.animationLoop&&"next"!==o.direction?d?(o.count+o.cloneOffset)*w:0:o.currentSlide===o.last&&0===e&&o.vars.animationLoop&&"prev"!==o.direction?d?0:(o.count+1)*w:d?(o.count-1-e+o.cloneOffset)*w:(e+o.cloneOffset)*w,o.setProps(v,"",o.vars.animationSpeed),o.transitions?(o.vars.animationLoop&&o.atEnd||(o.animating=!1,o.currentSlide=o.animatingTo),o.container.unbind("webkitTransitionEnd transitionend"),o.container.bind("webkitTransitionEnd transitionend",function(){o.wrapup(w)})):o.container.animate(o.args,o.vars.animationSpeed,o.vars.easing,function(){o.wrapup(w)})}o.vars.smoothHeight&&m.smoothHeight(o.vars.animationSpeed)}},o.wrapup=function(t){p||h||(0===o.currentSlide&&o.animatingTo===o.last&&o.vars.animationLoop?o.setProps(t,"jumpEnd"):o.currentSlide===o.last&&0===o.animatingTo&&o.vars.animationLoop&&o.setProps(t,"jumpStart")),o.animating=!1,o.currentSlide=o.animatingTo,o.vars.after(o)},o.animateSlides=function(){!o.animating&&g&&o.flexAnimate(o.getTarget("next"))},o.pause=function(){clearInterval(o.animatedSlides),o.animatedSlides=null,o.playing=!1,o.vars.pausePlay&&m.pausePlay.update("play"),o.syncExists&&m.sync("pause")},o.play=function(){o.playing&&clearInterval(o.animatedSlides),o.animatedSlides=o.animatedSlides||setInterval(o.animateSlides,o.vars.slideshowSpeed),o.started=o.playing=!0,o.vars.pausePlay&&m.pausePlay.update("pause"),o.syncExists&&m.sync("play")},o.stop=function(){o.pause(),o.stopped=!0},o.canAdvance=function(t,e){var i=f?o.pagingCount-1:o.last;return!!e||(!(!f||o.currentItem!==o.count-1||0!==t||"prev"!==o.direction)||(!f||0!==o.currentItem||t!==o.pagingCount-1||"next"===o.direction)&&(!(t===o.currentSlide&&!f)&&(!!o.vars.animationLoop||(!o.atEnd||0!==o.currentSlide||t!==i||"next"===o.direction)&&(!o.atEnd||o.currentSlide!==i||0!==t||"next"!==o.direction))))},o.getTarget=function(t){return o.direction=t,"next"===t?o.currentSlide===o.last?0:o.currentSlide+1:0===o.currentSlide?o.last:o.currentSlide-1},o.setProps=function(t,e,i){var n=function(){var i=t?t:(o.itemW+o.vars.itemMargin)*o.move*o.animatingTo,n=function(){if(h)return"setTouch"===e?t:d&&o.animatingTo===o.last?0:d?o.limit-(o.itemW+o.vars.itemMargin)*o.move*o.animatingTo:o.animatingTo===o.last?o.limit:i;switch(e){case"setTotal":return d?(o.count-1-o.currentSlide+o.cloneOffset)*t:(o.currentSlide+o.cloneOffset)*t;case"setTouch":return d?t:t;case"jumpEnd":return d?t:o.count*t;case"jumpStart":return d?o.count*t:t;default:return t}}();return n*-1+"px"}();o.transitions&&(n=u?"translate3d(0,"+n+",0)":"translate3d("+n+",0,0)",i=void 0!==i?i/1e3+"s":"0s",o.container.css("-"+o.pfx+"-transition-duration",i)),o.args[o.prop]=n,(o.transitions||void 0===i)&&o.container.css(o.args)},o.setup=function(e){if(p)o.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===e&&(a?o.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+o.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(o.currentSlide).css({opacity:1,zIndex:2}):o.slides.css({opacity:0,display:"block",zIndex:1}).eq(o.currentSlide).css({zIndex:2}).animate({opacity:1},o.vars.animationSpeed,o.vars.easing)),o.vars.smoothHeight&&m.smoothHeight();else{var i,n;"init"===e&&(o.viewport=t('<div class="'+r+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(o).append(o.container),o.cloneCount=0,o.cloneOffset=0,d&&(n=t.makeArray(o.slides).reverse(),o.slides=t(n),o.container.empty().append(o.slides))),o.vars.animationLoop&&!h&&(o.cloneCount=2,o.cloneOffset=1,"init"!==e&&o.container.find(".clone").remove(),o.container.append(o.slides.first().clone().addClass("clone").attr("aria-hidden","true")).prepend(o.slides.last().clone().addClass("clone").attr("aria-hidden","true"))),o.newSlides=t(o.vars.selector,o),i=d?o.count-1-o.currentSlide+o.cloneOffset:o.currentSlide+o.cloneOffset,u&&!h?(o.container.height(200*(o.count+o.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){o.newSlides.css({display:"block"}),o.doMath(),o.viewport.height(o.h),o.setProps(i*o.h,"init")},"init"===e?100:0)):(o.container.width(200*(o.count+o.cloneCount)+"%"),o.setProps(i*o.computedW,"init"),setTimeout(function(){o.doMath(),o.newSlides.css({width:o.computedW,"float":"left",display:"block"}),o.vars.smoothHeight&&m.smoothHeight()},"init"===e?100:0))}h||o.slides.removeClass(r+"active-slide").eq(o.currentSlide).addClass(r+"active-slide")},o.doMath=function(){var t=o.slides.first(),e=o.vars.itemMargin,i=o.vars.minItems,n=o.vars.maxItems;o.w=void 0===o.viewport?o.width():o.viewport.width(),o.h=t.height(),o.boxPadding=t.outerWidth()-t.width(),h?(o.itemT=o.vars.itemWidth+e,o.minW=i?i*o.itemT:o.w,o.maxW=n?n*o.itemT-e:o.w,o.itemW=o.minW>o.w?(o.w-e*(i-1))/i:o.maxW<o.w?(o.w-e*(n-1))/n:o.vars.itemWidth>o.w?o.w:o.vars.itemWidth,o.visible=Math.floor(o.w/o.itemW),o.move=o.vars.move>0&&o.vars.move<o.visible?o.vars.move:o.visible,o.pagingCount=Math.ceil((o.count-o.visible)/o.move+1),o.last=o.pagingCount-1,o.limit=1===o.pagingCount?0:o.vars.itemWidth>o.w?o.itemW*(o.count-1)+e*(o.count-1):(o.itemW+e)*o.count-o.w-e):(o.itemW=o.w,o.pagingCount=o.count,o.last=o.count-1),o.computedW=o.itemW-o.boxPadding},o.update=function(t,e){o.doMath(),h||(t<o.currentSlide?o.currentSlide+=1:t<=o.currentSlide&&0!==t&&(o.currentSlide-=1),o.animatingTo=o.currentSlide),o.vars.controlNav&&!o.manualControls&&("add"===e&&!h||o.pagingCount>o.controlNav.length?m.controlNav.update("add"):("remove"===e&&!h||o.pagingCount<o.controlNav.length)&&(h&&o.currentSlide>o.last&&(o.currentSlide-=1,o.animatingTo-=1),m.controlNav.update("remove",o.last))),o.vars.directionNav&&m.directionNav.update()},o.addSlide=function(e,i){var n=t(e);o.count+=1,o.last=o.count-1,u&&d?void 0!==i?o.slides.eq(o.count-i).after(n):o.container.prepend(n):void 0!==i?o.slides.eq(i).before(n):o.container.append(n),o.update(i,"add"),o.slides=t(o.vars.selector+":not(.clone)",o),o.setup(),o.vars.added(o)},o.removeSlide=function(e){var i=isNaN(e)?o.slides.index(t(e)):e;o.count-=1,o.last=o.count-1,isNaN(e)?t(e,o.slides).remove():u&&d?o.slides.eq(o.last).remove():o.slides.eq(e).remove(),o.doMath(),o.update(i,"remove"),o.slides=t(o.vars.selector+":not(.clone)",o),o.setup(),o.vars.removed(o)},m.init()},t(window).blur(function(t){focused=!1}).focus(function(t){focused=!0}),t.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){}},t.fn.flexslider=function(e){if(void 0===e&&(e={}),"object"==typeof e)return this.each(function(){var i=t(this),o=e.selector?e.selector:".slides > li",n=i.find(o);1===n.length&&e.allowOneSlide===!0||0===n.length?(n.fadeIn(400),e.start&&e.start(i)):void 0===i.data("flexslider")&&new t.flexslider(this,e)});var i=t(this).data("flexslider");switch(e){case"play":i.play();break;case"pause":i.pause();break;case"stop":i.stop();break;case"next":i.flexAnimate(i.getTarget("next"),!0);break;case"prev":case"previous":i.flexAnimate(i.getTarget("prev"),!0);break;default:"number"==typeof e&&i.flexAnimate(e,!0)}}}(jQuery),function(t){var e=-1,i=-1,o=function(e){var i=1,o=t(e),r=null,s=[];return o.each(function(){var e=t(this),o=e.offset().top-n(e.css("margin-top")),a=s.length>0?s[s.length-1]:null;null===a?s.push(e):Math.floor(Math.abs(r-o))<=i?s[s.length-1]=a.add(e):s.push(e),r=o}),s},n=function(t){return parseFloat(t)||0},r=function(e){var i={byRow:!0,remove:!1,property:"height"};return"object"==typeof e?t.extend(i,e):("boolean"==typeof e?i.byRow=e:"remove"===e&&(i.remove=!0),i)},s=t.fn.matchHeight=function(e){var i=r(e);if(i.remove){var o=this;return this.css(i.property,""),t.each(s._groups,function(t,e){e.elements=e.elements.not(o)}),this}return this.length<=1?this:(s._groups.push({elements:this,options:i}),s._apply(this,i),this)};s._groups=[],s._throttle=80,s._maintainScroll=!1,s._beforeUpdate=null,s._afterUpdate=null,s._apply=function(e,i){var a=r(i),l=t(e),c=[l],u=t(window).scrollTop(),d=t("html").outerHeight(!0),h=l.parents().filter(":hidden");return h.each(function(){var e=t(this);e.data("style-cache",e.attr("style"))}),h.css("display","block"),a.byRow&&(l.each(function(){var e=t(this),i="inline-block"===e.css("display")?"inline-block":"block";e.data("style-cache",e.attr("style")),e.css({display:i,"padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px"})}),c=o(l),l.each(function(){var e=t(this);e.attr("style",e.data("style-cache")||"")})),t.each(c,function(e,i){var o=t(i),r=0;return a.byRow&&o.length<=1?void o.css(a.property,""):(o.each(function(){var e=t(this),i="inline-block"===e.css("display")?"inline-block":"block",o={display:i};o[a.property]="",e.css(o),e.outerHeight(!1)>r&&(r=e.outerHeight(!1)),e.css("display","")}),void o.each(function(){var e=t(this),i=0;"border-box"!==e.css("box-sizing")&&(i+=n(e.css("border-top-width"))+n(e.css("border-bottom-width")),i+=n(e.css("padding-top"))+n(e.css("padding-bottom"))),e.css(a.property,r-i)}))}),h.each(function(){var e=t(this);e.attr("style",e.data("style-cache")||null)}),s._maintainScroll&&t(window).scrollTop(u/d*t("html").outerHeight(!0)),this},s._applyDataApi=function(){var e={};t("[data-match-height], [data-mh]").each(function(){var i=t(this),o=i.attr("data-match-height")||i.attr("data-mh");o in e?e[o]=e[o].add(i):e[o]=i}),t.each(e,function(){this.matchHeight(!0)})};var a=function(e){s._beforeUpdate&&s._beforeUpdate(e,s._groups),t.each(s._groups,function(){s._apply(this.elements,this.options)}),s._afterUpdate&&s._afterUpdate(e,s._groups)};s._update=function(o,n){if(n&&"resize"===n.type){var r=t(window).width();if(r===e)return;e=r}o?i===-1&&(i=setTimeout(function(){a(n),i=-1},s._throttle)):a(n)},t(s._applyDataApi),t(window).bind("load",function(t){s._update(!1,t)}),t(window).bind("resize orientationchange",function(t){s._update(!0,t)})}(jQuery),function(t){t(function(){function t(){}function e(e){var o=new t;return o.then=function(t){var o;try{return t&&(o=t(e)),a(o===S?e:o)}catch(n){return i(n)}},w(o)}function i(e){var o=new t;return o.then=function(t,o){var n;try{return o?(n=o(e),a(n===S?e:n)):i(e)}catch(r){return i(r)}},w(o)}function o(t){return s(t,function(t){return i(t)})}function n(){function o(t,e,i){return h(t,e,i)}function r(t){f(e(t))}function s(t){f(i(t))}function a(t){p(t)}var l,c,u,d,h,p,f;return u=[],d=[],h=function(t,e,i){var o=n();return u.push(function(i){i.then(t,e).then(o.resolve,o.reject,o.progress)}),i&&d.push(i),o.promise},p=function(t){for(var e,i=0;e=d[i++];)e(t)},f=function(t){var e,i=0;for(h=t.then,f=p=function(){throw new Error("already completed")},d=S;e=u[i++];)e(t);u=[]},l={},c=new t,c.then=l.then=o,l.promise=w(c),l.resolver=w({resolve:l.resolve=r,reject:l.reject=s,progress:l.progress=a}),l}function r(t){return t&&"function"==typeof t.then}function s(t,e,i,o){var n=a(t);return n.then(e,i,o)}function a(e){var i,o;return e instanceof t?i=e:(o=n(),r(e)?(e.then(o.resolve,o.reject,o.progress),i=o.promise):(o.resolve(e),i=o.promise)),i}function l(t,e,i,o,r){return v(2,arguments),s(t,function(t){function a(t){m(t)}function l(t){g(t)}function c(t){v(t)}function u(){m=g=v=y}var d,h,p,f,m,g,v,w,b;if(w=t.length>>>0,d=Math.max(0,Math.min(e,w)),h=[],f=n(),p=s(f,i,o,r),d)for(m=function(t){h.push(t),--d||(u(),f.resolve(h))},g=function(t){u(),f.reject(t)},v=f.progress,b=0;b<w;++b)b in t&&s(t[b],a,l,c);else f.resolve(h);return p})}function c(t,e,i,o){return v(1,arguments),s(t,function(t){return m(t,u,[])}).then(e,i,o)}function u(t,e,i){return t[i]=e,t}function d(t,e,i,o){function n(t){return e?e(t[0]):t[0]}return l(t,1,n,i,o)}function h(t,e){return s(t,function(t){return p(t,e)})}function p(t,e){var i,o,n;for(o=t.length>>>0,i=new Array(o),n=0;n<o;n++)n in t&&(i[n]=s(t[n],e));return m(i,u,i)}function f(t,e,i){var o=x.call(arguments,1);return s(t,function(t){return m.apply(S,[t].concat(o))})}function m(t,e,i){var o,n;return o=t.length,n=[function(t,i,n){return s(t,function(t){return s(i,function(i){return e(t,i,n,o)})})}],arguments.length>2&&n.push(i),b.apply(t,n)}function g(t,e,o){var n=arguments.length>2;return s(t,function(t){return n&&(t=o),e.resolve(t),t},function(t){return e.reject(t),i(t)},e.progress)}function v(t,e){for(var i,o=e.length;o>t;)if(i=e[--o],null!=i&&"function"!=typeof i)throw new Error("callback is not a function")}function y(){}var w,b,x,S;return s.defer=n,s.reject=o,s.isPromise=r,s.all=c,s.some=l,s.any=d,s.map=h,s.reduce=f,s.chain=g,w=Object.freeze||function(t){return t},t.prototype=w({always:function(t,e){return this.then(t,t,e)},otherwise:function(t){return this.then(S,t)}}),x=[].slice,b=[].reduce||function(t){var e,i,o,n,r;if(r=0,e=Object(this),n=e.length>>>0,i=arguments,i.length<=1)for(;;){if(r in e){o=e[r++];break}if(++r>=n)throw new TypeError}else o=i[1];for(;r<n;++r)r in e&&(o=t(o,e[r],r,e));return o},s})}("function"==typeof define?define:function(t){"undefined"!=typeof module?module.exports=t():jQuery.mapster_when=t()}),function($){$.fn.mapster=function(t){var e=$.mapster.impl;return $.isFunction(e[t])?e[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void $.error("Method "+t+" does not exist on jQuery.mapster"):e.bind.apply(this,arguments)},$.mapster={version:"1.2.10",render_defaults:{isSelectable:!0,isDeselectable:!0,fade:!1,fadeDuration:150,fill:!0,fillColor:"000000",fillColorMask:"FFFFFF",fillOpacity:.7,highlight:!0,stroke:!1,strokeColor:"ff0000",strokeOpacity:1,strokeWidth:1,includeKeys:"",altImage:null,altImageId:null,altImages:{}},defaults:{clickNavigate:!1,wrapClass:null,wrapCss:null,onGetList:null,sortList:!1,listenToList:!1,mapKey:"",mapValue:"",singleSelect:!1,listKey:"value",listSelectedAttribute:"selected",listSelectedClass:null,onClick:null,onMouseover:null,onMouseout:null,mouseoutDelay:0,onStateChange:null,boundList:null,onConfigured:null,configTimeout:3e4,noHrefIsMask:!0,scaleMap:!0,safeLoad:!1,areas:[]},shared_defaults:{render_highlight:{fade:!0},render_select:{fade:!1},staticState:null,selected:null},area_defaults:{includeKeys:"",isMask:!1},canvas_style:{position:"absolute",left:0,top:0,padding:0,border:0},hasCanvas:null,isTouch:null,map_cache:[],hooks:{},addHook:function(t,e){this.hooks[t]=(this.hooks[t]||[]).push(e)},callHooks:function(t,e){$.each(this.hooks[t]||[],function(t,i){i.apply(e)})},utils:{when:$.mapster_when,defer:$.mapster_when.defer,subclass:function(t,e){var i=function(){var i=this,o=Array.prototype.slice.call(arguments,0);i.base=t.prototype,i.base.init=function(){t.prototype.constructor.apply(i,o)},e.apply(i,o)};return i.prototype=new t,i.prototype.constructor=i,i},asArray:function(t){return t.constructor===Array?t:this.split(t)},split:function(t,e){var i,o,n=t.split(",");for(i=0;i<n.length;i++)o=$.trim(n[i]),""===o?n.splice(i,1):n[i]=e?e(o):o;return n},updateProps:function(t,e){var i,o=t||{},n=$.isEmptyObject(o)?e:t;return i=[],$.each(n,function(t){i.push(t)}),$.each(Array.prototype.slice.call(arguments,1),function(t,e){$.each(e||{},function(t){if(!i||$.inArray(t,i)>=0){var n=e[t];$.isPlainObject(n)?o[t]=$.extend(o[t]||{},n):n&&n.constructor===Array?o[t]=n.slice(0):"undefined"!=typeof n&&(o[t]=e[t])}})}),o},isElement:function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName},indexOfProp:function(t,e,i){var o=t.constructor===Array?-1:null;return $.each(t,function(t,n){if(n&&(e?n[e]:n)===i)return o=t,!1}),o},boolOrDefault:function(t,e){return this.isBool(t)?t:e||!1},isBool:function(t){return"boolean"==typeof t},isUndef:function(t){return"undefined"==typeof t},ifFunction:function(t,e,i){$.isFunction(t)&&t.call(e,i)},size:function(t,e){var i=$.mapster.utils;return{width:e?t.width||t.naturalWidth:i.imgWidth(t,!0),height:e?t.height||t.naturalHeight:i.imgHeight(t,!0),complete:function(){return!!this.height&&!!this.width}}},setOpacity:function(t,e){$.mapster.hasCanvas()?t.style.opacity=e:$(t).each(function(t,i){"undefined"!=typeof i.opacity?i.opacity=e:$(i).css("opacity",e)})},fader:function(){var t={},e=0,i=function(o,n,r,s){var a,l,c=s/15,u=$.mapster.utils;if("number"==typeof o){if(l=t[o],!l)return}else a=u.indexOfProp(t,null,o),a&&delete t[a],t[++e]=l=o,o=e;r=r||1,n=n+r/c>r-.01?r:n+r/c,u.setOpacity(l,n),n<r&&setTimeout(function(){i(o,n,r,s)},15)};return i}()},getBoundList:function(t,e){if(!t.boundList)return null;var i,o,n=$(),r=$.mapster.utils.split(e);return t.boundList.each(function(e,s){for(i=0;i<r.length;i++)o=r[i],$(s).is("["+t.listKey+'="'+o+'"]')&&(n=n.add(s))}),n},setBoundListProperties:function(t,e,i){e.each(function(e,o){t.listSelectedClass&&(i?$(o).addClass(t.listSelectedClass):$(o).removeClass(t.listSelectedClass)),t.listSelectedAttribute&&$(o).attr(t.listSelectedAttribute,i)})},getMapDataIndex:function(t){var e,i;switch(t.tagName&&t.tagName.toLowerCase()){case"area":i=$(t).parent().attr("name"),e=$("img[usemap='#"+i+"']")[0];break;case"img":e=t}return e?this.utils.indexOfProp(this.map_cache,"image",e):-1},getMapData:function(t){var e=this.getMapDataIndex(t.length?t[0]:t);if(e>=0)return e>=0?this.map_cache[e]:null},queueCommand:function(t,e,i,o){return!!t&&(!(t.complete&&!t.currentAction)&&(t.commands.push({that:e,command:i,args:o}),!0))},unload:function(){this.impl.unload(),this.utils=null,this.impl=null,$.fn.mapster=null,$.mapster=null,$("*").unbind()}};var m=$.mapster,u=m.utils,ap=Array.prototype;$.each(["width","height"],function(t,e){var i=e.substr(0,1).toUpperCase()+e.substr(1);u["img"+i]=function(t,o){return(o?$(t)[e]():0)||t[e]||t["natural"+i]||t["client"+i]||t["offset"+i]}}),m.Method=function(t,e,i,o){var n=this;n.name=o.name,n.output=t,n.input=t,n.first=o.first||!1,n.args=o.args?ap.slice.call(o.args,0):[],n.key=o.key,n.func_map=e,n.func_area=i,n.name=o.name,n.allowAsync=o.allowAsync||!1},m.Method.prototype={constructor:m.Method,go:function(){var t,e,i,o,n,r=this.input,s=[],a=this;for(o=r.length,t=0;t<o;t++)if(e=$.mapster.getMapData(r[t])){if(!a.allowAsync&&m.queueCommand(e,a.input,a.name,a.args)){this.first&&(n="");continue}if(i=e.getData("AREA"===r[t].nodeName?r[t]:this.key),i?$.inArray(i,s)<0&&s.push(i):n=this.func_map.apply(e,a.args),this.first||"undefined"!=typeof n)break}return $(s).each(function(t,e){n=a.func_area.apply(e,a.args)}),"undefined"!=typeof n?n:this.output}},$.mapster.impl=function(){function hasVml(){var t=$("<div />").appendTo("body");t.html('<v:shape id="vml_flag1" adj="1" />');var e=t[0].firstChild;e.style.behavior="url(#default#VML)";var i=!e||"object"==typeof e.adj;return t.remove(),i}function namespaces(){return"object"==typeof document.namespaces?document.namespaces:null}function hasCanvas(){var t=namespaces();return(!t||!t.g_vml_)&&!!$("<canvas />")[0].getContext}function merge_areas(t,e){var i,o,n=t.options.areas;e&&$.each(e,function(e,r){r&&r.key&&(o=u.indexOfProp(n,"key",r.key),o>=0?$.extend(n[o],r):n.push(r),i=t.getDataForKey(r.key),i&&$.extend(i.options,r))})}function merge_options(t,e){var i=u.updateProps({},e);delete i.areas,u.updateProps(t.options,i),merge_areas(t,e.areas),u.updateProps(t.area_options,t.options)}var me={},addMap=function(t){return m.map_cache.push(t)-1},removeMap=function(t){m.map_cache.splice(t.index,1);for(var e=m.map_cache.length-1;e>=this.index;e--)m.map_cache[e].index--};return me.get=function(t){var e=m.getMapData(this);if(!e||!e.complete)throw"Can't access data until binding complete.";return new m.Method(this,function(){return this.getSelected()},function(){return this.isSelected()},{name:"get",args:arguments,key:t,first:!0,allowAsync:!0,defaultReturn:""}).go()},me.data=function(t){return new m.Method(this,null,function(){return this},{name:"data",args:arguments,key:t}).go()},me.highlight=function(t){return new m.Method(this,function(){if(t!==!1){var e=this.highlightId;return e>=0?this.data[e].key:null}this.ensureNoHighlight()},function(){this.highlight()},{name:"highlight",args:arguments,key:t,first:!0}).go()},me.keys=function(t,e){function i(t){var i,n=[];e?(i=t.areas(),$.each(i,function(t,e){n=n.concat(e.keys)})):n.push(t.key),$.each(n,function(t,e){$.inArray(e,o)<0&&o.push(e)})}var o=[],n=m.getMapData(this);if(!n||!n.complete)throw"Can't access data until binding complete.";return n&&n.complete?("string"==typeof t?e?i(n.getDataForKey(t)):o=[n.getKeysForGroup(t)]:(e=t,this.each(function(t,e){"AREA"===e.nodeName&&i(n.getDataForArea(e))})),o.join(",")):""},me.select=function(){me.set.call(this,!0)},me.deselect=function(){me.set.call(this,!1)},me.set=function(t,e,i){function o(e){if(e)switch(t){case!0:e.select(d);break;case!1:e.deselect(!0);break;default:e.toggle(d)}}function n(t){t&&$.inArray(t,c)<0&&(c.push(t),l+=(""===l?"":",")+t.key)}function r(e){$.each(c,function(t,e){o(e)}),t||e.removeSelectionFinish(),e.options.boundList&&m.setBoundListProperties(e.options,m.getBoundList(e.options,l),t)}var s,a,l,c,d=i;return this.filter("img,area").each(function(i,o){var h;a=m.getMapData(o),a!==s&&(s&&r(s),c=[],l=""),a&&(h="","IMG"===o.nodeName.toUpperCase()?m.queueCommand(a,$(o),"set",[t,e,d])||(e instanceof Array?e.length&&(h=e.join(",")):h=e,h&&$.each(u.split(h),function(t,e){n(a.getDataForKey(e.toString())),s=a})):(d=e,m.queueCommand(a,$(o),"set",[t,d])||(n(a.getDataForArea(o)),s=a)))}),a&&r(a),this},me.unbind=function(t){return new m.Method(this,function(){this.clearEvents(),this.clearMapData(t),removeMap(this)},null,{name:"unbind",args:arguments}).go()},me.rebind=function(t){return new m.Method(this,function(){var e=this;e.complete=!1,e.configureOptions(t),e.bindImages().then(function(){e.buildDataset(!0),e.complete=!0})},null,{name:"rebind",args:arguments}).go()},me.get_options=function(t,e){var i=u.isBool(t)?t:e;return new m.Method(this,function(){var t=$.extend({},this.options);return i&&(t.render_select=u.updateProps({},m.render_defaults,t,t.render_select),t.render_highlight=u.updateProps({},m.render_defaults,t,t.render_highlight)),t},function(){return i?this.effectiveOptions():this.options},{name:"get_options",args:arguments,first:!0,allowAsync:!0,key:t}).go()},me.set_options=function(t){return new m.Method(this,function(){merge_options(this,t)},null,{name:"set_options",args:arguments}).go()},me.unload=function(){var t;for(t=m.map_cache.length-1;t>=0;t--)m.map_cache[t]&&me.unbind.call($(m.map_cache[t].image));me.graphics=null},me.snapshot=function(){return new m.Method(this,function(){$.each(this.data,function(t,e){e.selected=!1}),this.base_canvas=this.graphics.createVisibleCanvas(this),$(this.image).before(this.base_canvas)},null,{name:"snapshot"}).go()},me.state=function(){var t,e=null;return $(this).each(function(i,o){if("IMG"===o.nodeName)return t=m.getMapData(o),t&&(e=t.state()),!1}),e},me.bind=function(t){return this.each(function(e,i){var o,n,r,s;if(o=$(i),s=m.getMapData(i)){if(me.unbind.apply(o),!s.complete)return o.bind(),!0;s=null}return r=this.getAttribute("usemap"),n=r&&$('map[name="'+r.substr(1)+'"]'),!(o.is("img")&&r&&n.size()>0)||(o.css("border",0),void(s||(s=new m.MapData(this,t),s.index=addMap(s),s.map=n,s.bindImages().then(function(){s.initialize()}))))})},me.init=function(t){var e,i;m.hasCanvas=function(){return u.isBool(m.hasCanvas.value)||(m.hasCanvas.value=u.isBool(t)?t:hasCanvas()),m.hasCanvas.value},m.hasVml=function(){if(!u.isBool(m.hasVml.value)){var t=namespaces();t&&!t.v&&(t.add("v","urn:schemas-microsoft-com:vml"),e=document.createStyleSheet(),i=["shape","rect","oval","circ","fill","stroke","imagedata","group","textbox"],$.each(i,function(t,i){e.addRule("v\\:"+i,"behavior: url(#default#VML); antialias:true")})),m.hasVml.value=hasVml()}return m.hasVml.value},m.isTouch=!!document.documentElement.ontouchstart,$.extend(m.defaults,m.render_defaults,m.shared_defaults),$.extend(m.area_defaults,m.render_defaults,m.shared_defaults)},me.test=function(obj){return eval(obj)},me}(),$.mapster.impl.init()}(jQuery),function(t){function e(e,i,o){var n=e,r=n.map_data,s=o.isMask;t.each(i.areas(),function(t,e){o.isMask=s||e.nohref&&r.options.noHrefIsMask,n.addShape(e,o)}),o.isMask=s}function i(t){return Math.max(0,Math.min(parseInt(t,16),255))}function o(t,e){return"rgba("+i(t.substr(0,2))+","+i(t.substr(2,2))+","+i(t.substr(4,2))+","+e+")"}function n(){}var r,s,a,l=t.mapster,c=l.utils;l.Graphics=function(t){var e=this;e.active=!1,e.canvas=null,e.width=0,e.height=0,e.shapes=[],e.masks=[],e.map_data=t},r=l.Graphics.prototype={constructor:l.Graphics,begin:function(e,i){var o=t(e);this.elementName=i,this.canvas=e,this.width=o.width(),this.height=o.height(),this.shapes=[],this.masks=[],this.active=!0},addShape:function(t,e){var i=e.isMask?this.masks:this.shapes;i.push({mapArea:t,options:e})},createVisibleCanvas:function(e){return t(this.createCanvasFor(e)).addClass("mapster_el").css(l.canvas_style)[0]},addShapeGroup:function(i,o,n){var r,s,a,u=this,d=this.map_data,h=i.effectiveRenderOptions(o);n&&t.extend(h,n),"select"===o?(s="static_"+i.areaId.toString(),a=d.base_canvas):a=d.overlay_canvas,u.begin(a,s),h.includeKeys&&(r=c.split(h.includeKeys),t.each(r,function(t,i){var n=d.getDataForKey(i.toString());e(u,n,n.effectiveRenderOptions(o))})),e(u,i,h),u.render(),h.fade&&c.fader(l.hasCanvas()?a:t(a).find("._fill").not(".mapster_mask"),0,l.hasCanvas()?1:h.fillOpacity,h.fadeDuration)}},s={renderShape:function(t,e,i){var o,n=e.coords(null,i);switch(e.shape){case"rect":t.rect(n[0],n[1],n[2]-n[0],n[3]-n[1]);break;case"poly":for(t.moveTo(n[0],n[1]),o=2;o<e.length;o+=2)t.lineTo(n[o],n[o+1]);t.lineTo(n[0],n[1]);break;case"circ":
case"circle":t.arc(n[0],n[1],n[2],0,2*Math.PI,!1)}},addAltImage:function(t,e,i,o){t.beginPath(),this.renderShape(t,i),t.closePath(),t.clip(),t.globalAlpha=o.altImageOpacity||o.fillOpacity,t.drawImage(e,0,0,i.owner.scaleInfo.width,i.owner.scaleInfo.height)},render:function(){var e,i,n=this,r=n.map_data,s=n.masks.length,a=n.createCanvasFor(r),l=a.getContext("2d"),c=n.canvas.getContext("2d");return s&&(e=n.createCanvasFor(r),i=e.getContext("2d"),i.clearRect(0,0,e.width,e.height),t.each(n.masks,function(t,e){i.save(),i.beginPath(),n.renderShape(i,e.mapArea),i.closePath(),i.clip(),i.lineWidth=0,i.fillStyle="#000",i.fill(),i.restore()})),t.each(n.shapes,function(t,e){l.save(),e.options.fill&&(e.options.altImageId?n.addAltImage(l,r.images[e.options.altImageId],e.mapArea,e.options):(l.beginPath(),n.renderShape(l,e.mapArea),l.closePath(),l.fillStyle=o(e.options.fillColor,e.options.fillOpacity),l.fill())),l.restore()}),t.each(n.shapes.concat(n.masks),function(t,e){var i=1===e.options.strokeWidth?.5:0;e.options.stroke&&(l.save(),l.strokeStyle=o(e.options.strokeColor,e.options.strokeOpacity),l.lineWidth=e.options.strokeWidth,l.beginPath(),n.renderShape(l,e.mapArea,i),l.closePath(),l.stroke(),l.restore())}),s?(i.globalCompositeOperation="source-out",i.drawImage(a,0,0),c.drawImage(e,0,0)):c.drawImage(a,0,0),n.active=!1,n.canvas},createCanvasFor:function(e){return t('<canvas width="'+e.scaleInfo.width+'" height="'+e.scaleInfo.height+'"></canvas>')[0]},clearHighlight:function(){var t=this.map_data.overlay_canvas;t.getContext("2d").clearRect(0,0,t.width,t.height)},refreshSelections:function(){var e,i=this.map_data;e=i.base_canvas,i.base_canvas=this.createVisibleCanvas(i),t(i.base_canvas).hide(),t(e).before(i.base_canvas),i.redrawSelections(),t(i.base_canvas).show(),t(e).remove()}},a={renderShape:function(e,i,o){var n,r,s,a,l,c,u,d=this,h=e.coords();switch(l=d.elementName?'name="'+d.elementName+'" ':"",c=o?'class="'+o+'" ':"",a='<v:fill color="#'+i.fillColor+'" class="_fill" opacity="'+(i.fill?i.fillOpacity:0)+'" /><v:stroke class="_fill" opacity="'+i.strokeOpacity+'"/>',r=i.stroke?" strokeweight="+i.strokeWidth+' stroked="t" strokecolor="#'+i.strokeColor+'"':' stroked="f"',n=i.fill?' filled="t"':' filled="f"',e.shape){case"rect":u="<v:rect "+c+l+n+r+' style="zoom:1;margin:0;padding:0;display:block;position:absolute;left:'+h[0]+"px;top:"+h[1]+"px;width:"+(h[2]-h[0])+"px;height:"+(h[3]-h[1])+'px;">'+a+"</v:rect>";break;case"poly":u="<v:shape "+c+l+n+r+' coordorigin="0,0" coordsize="'+d.width+","+d.height+'" path="m '+h[0]+","+h[1]+" l "+h.slice(2).join(",")+' x e" style="zoom:1;margin:0;padding:0;display:block;position:absolute;top:0px;left:0px;width:'+d.width+"px;height:"+d.height+'px;">'+a+"</v:shape>";break;case"circ":case"circle":u="<v:oval "+c+l+n+r+' style="zoom:1;margin:0;padding:0;display:block;position:absolute;left:'+(h[0]-h[2])+"px;top:"+(h[1]-h[2])+"px;width:"+2*h[2]+"px;height:"+2*h[2]+'px;">'+a+"</v:oval>"}return s=t(u),t(d.canvas).append(s),s},render:function(){var e,i=this;return t.each(this.shapes,function(t,e){i.renderShape(e.mapArea,e.options)}),this.masks.length&&t.each(this.masks,function(t,o){e=c.updateProps({},o.options,{fillOpacity:1,fillColor:o.options.fillColorMask}),i.renderShape(o.mapArea,e,"mapster_mask")}),this.active=!1,this.canvas},createCanvasFor:function(e){var i=e.scaleInfo.width,o=e.scaleInfo.height;return t('<var width="'+i+'" height="'+o+'" style="zoom:1;overflow:hidden;display:block;width:'+i+"px;height:"+o+'px;"></var>')[0]},clearHighlight:function(){t(this.map_data.overlay_canvas).children().remove()},removeSelections:function(e){e>=0?t(this.map_data.base_canvas).find('[name="static_'+e.toString()+'"]').remove():t(this.map_data.base_canvas).children().remove()}},t.each(["renderShape","addAltImage","render","createCanvasFor","clearHighlight","removeSelections","refreshSelections"],function(t,e){r[e]=function(t){return function(){return r[t]=(l.hasCanvas()?s[t]:a[t])||n,r[t].apply(this,arguments)}}(e)})}(jQuery),function(t){var e=t.mapster,i=e.utils,o=[];e.MapImages=function(t){this.owner=t,this.clear()},e.MapImages.prototype={constructor:e.MapImages,slice:function(){return o.slice.apply(this,arguments)},splice:function(){o.slice.apply(this.status,arguments);var t=o.slice.apply(this,arguments);return t},complete:function(){return t.inArray(!1,this.status)<0},_add:function(t){var e=o.push.call(this,t)-1;return this.status[e]=!1,e},indexOf:function(e){return t.inArray(e,this)},clear:function(){var e=this;e.ids&&e.ids.length>0&&t.each(e.ids,function(t,i){delete e[i]}),e.ids=[],e.length=0,e.status=[],e.splice(0)},add:function(e,i){var o,n,r=this;if(e){if("string"==typeof e){if(n=e,e=r[n],"object"==typeof e)return r.indexOf(e);e=t("<img />").addClass("mapster_el").hide(),o=r._add(e[0]),e.bind("load",function(t){r.imageLoaded.call(r,t)}).bind("error",function(t){r.imageLoadError.call(r,t)}),e.attr("src",n)}else o=r._add(t(e)[0]);if(i){if(this[i])throw i+" is already used or is not available as an altImage alias.";r.ids.push(i),r[i]=r[o]}return o}},bind:function(t){var e,o=this,n=o.owner.options.configTimeout/200,r=function(){var t;for(t=o.length;t-- >0&&o.isLoaded(t););o.complete()?o.resolve():n-- >0?o.imgTimeout=window.setTimeout(function(){r.call(o,!0)},50):o.imageLoadError.call(o)};return e=o.deferred=i.defer(),r(),e},resolve:function(){var t=this,e=t.deferred;e&&(t.deferred=null,e.resolve())},imageLoaded:function(e){var i=this,o=i.indexOf(e.target);o>=0&&(i.status[o]=!0,t.inArray(!1,i.status)<0&&i.resolve())},imageLoadError:function(t){clearTimeout(this.imgTimeout),this.triesLeft=0;var e=t?"The image "+t.target.src+" failed to load.":"The images never seemed to finish loading. You may just need to increase the configTimeout if images could take a long time to load.";throw e},isLoaded:function(t){var e,o=this,n=o.status;return!!n[t]||(e=o[t],"undefined"!=typeof e.complete?n[t]=e.complete:n[t]=!!i.imgWidth(e),n[t])}}}(jQuery),function(t){function e(e){t.extend(e,{complete:!1,map:null,base_canvas:null,overlay_canvas:null,commands:[],data:[],mapAreas:[],_xref:{},highlightId:-1,currentAreaId:-1,_tooltip_events:[],scaleInfo:null,index:-1,activeAreaEvent:null})}function i(t){return[t,t.render_highlight,t.render_select]}function o(e){var o=e.options,n=e.images;u.hasCanvas()&&(t.each(o.altImages||{},function(t,e){n.add(e,t)}),t.each([o].concat(o.areas),function(e,o){t.each(i(o),function(t,e){e&&e.altImage&&(e.altImageId=n.add(e.altImage))})})),e.area_options=d.updateProps({},u.area_defaults,o)}function n(t,e,i,o){function r(e){t.currentAreaId!==e&&t.highlightId>=0&&o.resolve()}if(o=o||d.when.defer(),t.activeAreaEvent&&(window.clearTimeout(t.activeAreaEvent),t.activeAreaEvent=0),!(e<0))return i.owner.currentAction||e?t.activeAreaEvent=window.setTimeout(function(){return function(){n(t,0,i,o)}}(i),e||100):r(i.areaId),o}function r(t){u.hasCanvas()||this.blur(),t.preventDefault()}function s(e,i){var o=e.getAllDataForArea(this),n=o.length?o[0]:null;!n||n.isNotRendered()||n.owner.currentAction||e.currentAreaId!==n.areaId&&(e.highlightId!==n.areaId&&(e.clearEffects(),n.highlight(),e.options.showToolTip&&t.each(o,function(t,e){e.effectiveOptions().toolTip&&e.showToolTip()})),e.currentAreaId=n.areaId,t.isFunction(e.options.onMouseover)&&e.options.onMouseover.call(this,{e:i,options:n.effectiveOptions(),key:n.key,selected:n.isSelected()}))}function a(e,i){var o,r=e.getDataForArea(this),s=e.options;e.currentAreaId<0||!r||(o=e.getDataForArea(i.relatedTarget),o!==r&&(e.currentAreaId=-1,r.area=null,n(e,s.mouseoutDelay,r).then(e.clearEffects),t.isFunction(s.onMouseout)&&s.onMouseout.call(this,{e:i,options:s,key:r.key,selected:r.isSelected()})))}function l(e){var i=e.options;e.ensureNoHighlight(),i.toolTipClose&&t.inArray("area-mouseout",i.toolTipClose)>=0&&e.activeToolTip&&e.clearToolTip()}function c(e,i){function o(r){var f,g;if(c=r.isSelectable()&&(r.isDeselectable()||!r.isSelected()),l=c?!r.isSelected():r.isSelected(),a=u.getBoundList(m,r.key),t.isFunction(m.onClick)&&(h=m.onClick.call(p,{e:i,listTarget:a,key:r.key,selected:l}),d.isBool(h))){if(!h)return!1;if(g=t(r.area).attr("href"),"#"!==g)return window.location.href=g,!1}c&&(n=r.toggle()),m.boundList&&m.boundList.length>0&&u.setBoundListProperties(m,a,r.isSelected()),f=r.effectiveOptions(),f.includeKeys&&(s=d.split(f.includeKeys),t.each(s,function(t,i){var n=e.getDataForKey(i.toString());n.options.isMask||o(n)}))}var n,s,a,l,c,h,p=this,f=e.getDataForArea(this),m=e.options;return r.call(this,i),m.clickNavigate&&f.href?void(window.location.href=f.href):void(f&&!f.owner.currentAction&&(m=e.options,o(f)))}var u=t.mapster,d=u.utils;u.MapData=function(t,i){var o=this;o.image=t,o.images=new u.MapImages(o),o.graphics=new u.Graphics(o),o.imgCssText=t.style.cssText||null,e(o),o.configureOptions(i),o.mouseover=function(t){s.call(this,o,t)},o.mouseout=function(t){a.call(this,o,t)},o.click=function(t){c.call(this,o,t)},o.clearEffects=function(t){l.call(this,o,t)}},u.MapData.prototype={constructor:u.MapData,configureOptions:function(t){this.options=d.updateProps({},u.defaults,t)},bindImages:function(){var t=this,e=t.images;return e.length>2?e.splice(2):0===e.length&&(e.add(t.image),e.add(t.image.src)),o(t),t.images.bind()},isActive:function(){return!this.complete||this.currentAction},state:function(){return{complete:this.complete,resizing:"resizing"===this.currentAction,zoomed:this.zoomed,zoomedArea:this.zoomedArea,scaleInfo:this.scaleInfo}},wrapId:function(){return"mapster_wrap_"+this.index},_idFromKey:function(t){return"string"==typeof t&&this._xref.hasOwnProperty(t)?this._xref[t]:-1},getSelected:function(){var e="";return t.each(this.data,function(t,i){i.isSelected()&&(e+=(e?",":"")+this.key)}),e},getAllDataForArea:function(e,i){var o,n,r,s=this,a=t(e).filter("area").attr(s.options.mapKey);if(a)for(r=[],a=d.split(a),o=0;o<(i||a.length);o++)n=s.data[s._idFromKey(a[o])],n.area=e.length?e[0]:e,r.push(n);return r},getDataForArea:function(t){var e=this.getAllDataForArea(t,1);return e?e[0]||null:null},getDataForKey:function(t){return this.data[this._idFromKey(t)]},getKeysForGroup:function(t){var e=this.getDataForKey(t);return e?e.isPrimary?e.key:this.getPrimaryKeysForMapAreas(e.areas()).join(","):""},getPrimaryKeysForMapAreas:function(e){var i=[];return t.each(e,function(e,o){t.inArray(o.keys[0],i)<0&&i.push(o.keys[0])}),i},getData:function(t){return"string"==typeof t?this.getDataForKey(t):t&&t.mapster||d.isElement(t)?this.getDataForArea(t):null},ensureNoHighlight:function(){var t;this.highlightId>=0&&(this.graphics.clearHighlight(),t=this.data[this.highlightId],t.changeState("highlight",!1),this.setHighlightId(-1))},setHighlightId:function(t){this.highlightId=t},clearSelections:function(){t.each(this.data,function(t,e){e.selected&&e.deselect(!0)}),this.removeSelectionFinish()},setAreaOptions:function(t){var e,i,o;for(t=t||[],e=t.length-1;e>=0;e--)i=t[e],i&&(o=this.getDataForKey(i.key),o&&(d.updateProps(o.options,i),d.isBool(i.selected)&&(o.selected=i.selected)))},drawSelections:function(t){var e,i=d.asArray(t);for(e=i.length-1;e>=0;e--)this.data[i[e]].drawSelection()},redrawSelections:function(){t.each(this.data,function(t,e){e.isSelectedOrStatic()&&e.drawSelection()})},initialize:function(){var e,i,o,n,r,s,a,l,c,h,p,f,m=this,g=m.options;if(!m.complete){for(c=t(m.image),r=c.parent().attr("id"),r&&r.length>=12&&"mapster_wrap"===r.substring(0,12)?(n=c.parent(),n.attr("id",m.wrapId())):(n=t('<div id="'+m.wrapId()+'"></div>'),g.wrapClass&&(g.wrapClass===!0?n.addClass(c[0].className):n.addClass(g.wrapClass))),m.wrapper=n,m.scaleInfo=f=d.scaleMap(m.images[0],m.images[1],g.scaleMap),m.base_canvas=i=m.graphics.createVisibleCanvas(m),m.overlay_canvas=o=m.graphics.createVisibleCanvas(m),e=t(m.images[1]).addClass("mapster_el "+m.images[0].className).attr({id:null,usemap:null}),l=d.size(m.images[0]),l.complete&&e.css({width:l.width,height:l.height}),m.buildDataset(),s={display:"block",position:"relative",padding:0,width:f.width,height:f.height},g.wrapCss&&t.extend(s,g.wrapCss),c.parent()[0]!==m.wrapper[0]&&c.before(m.wrapper),n.css(s),t(m.images.slice(2)).hide(),a=1;a<m.images.length;a++)n.append(m.images[a]);n.append(i).append(o).append(c.css(u.canvas_style)),d.setOpacity(m.images[0],0),t(m.images[1]).show(),d.setOpacity(m.images[1],1),g.isSelectable&&g.onGetList&&(p=m.data.slice(0),g.sortList&&(h="desc"===g.sortList?function(t,e){return t===e?0:t>e?-1:1}:function(t,e){return t===e?0:t<e?-1:1},p.sort(function(t,e){return t=t.value,e=e.value,h(t,e)})),m.options.boundList=g.onGetList.call(m.image,p)),m.complete=!0,m.processCommandQueue(),g.onConfigured&&"function"==typeof g.onConfigured&&g.onConfigured.call(c,!0)}},buildDataset:function(e){function i(t,e){var i=new u.AreaData(w,t,e);return i.areaId=w._xref[t]=w.data.push(i)-1,i.areaId}var o,n,r,s,a,l,c,d,h,p,f,m,g,v,y,w=this,b=w.options;for(w._xref={},w.data=[],e||(w.mapAreas=[]),y=!b.mapKey,y&&(b.mapKey="data-mapster-key"),o=u.hasVml()?"area":y?"area[coords]":"area["+b.mapKey+"]",n=t(w.map).find(o).unbind(".mapster"),f=0;f<n.length;f++)if(s=0,l=n[f],a=t(l),l.coords){for(y?(c=String(f),a.attr("data-mapster-key",c)):c=l.getAttribute(b.mapKey),e?(d=w.mapAreas[a.data("mapster")-1],d.configure(c)):(d=new u.MapArea(w,l,c),w.mapAreas.push(d)),p=d.keys,r=p.length-1;r>=0;r--)h=p[r],b.mapValue&&(m=a.attr(b.mapValue)),y?(s=i(w.data.length,m),g=w.data[s],g.key=h=s.toString()):(s=w._xref[h],s>=0?(g=w.data[s],m&&!w.data[s].value&&(g.value=m)):(s=i(h,m),g=w.data[s],g.isPrimary=0===r)),d.areaDataXref.push(s),g.areasXref.push(f);v=a.attr("href"),v&&"#"!==v&&!g.href&&(g.href=v),d.nohref||(a.bind("click.mapster",w.click),u.isTouch||a.bind("mouseover.mapster",w.mouseover).bind("mouseout.mapster",w.mouseout).bind("mousedown.mapster",w.mousedown)),a.data("mapster",f+1)}w.setAreaOptions(b.areas),w.redrawSelections()},processCommandQueue:function(){for(var t,e=this;!e.currentAction&&e.commands.length;)t=e.commands[0],e.commands.splice(0,1),u.impl[t.command].apply(t.that,t.args)},clearEvents:function(){t(this.map).find("area").unbind(".mapster"),t(this.images).unbind(".mapster")},_clearCanvases:function(e){e||t(this.base_canvas).remove(),t(this.overlay_canvas).remove()},clearMapData:function(e){var i=this;this._clearCanvases(e),t.each(this.data,function(t,e){e.reset()}),this.data=null,e||(this.image.style.cssText=this.imgCssText,t(this.wrapper).before(this.image).remove()),i.images.clear(),this.image=null,d.ifFunction(this.clearTooltip,this)},removeSelectionFinish:function(){var t=this.graphics;t.refreshSelections(),t.clearHighlight()}}}(jQuery),function(t){function e(e){var i=this,o=i.owner;o.options.singleSelect&&o.clearSelections(),i.isSelected()||(e&&(i.optsCache=t.extend(i.effectiveRenderOptions("select"),e,{altImageId:o.images.add(e.altImage)})),i.drawSelection(),i.selected=!0,i.changeState("select",!0)),o.options.singleSelect&&o.graphics.refreshSelections()}function i(t){var e=this;e.selected=!1,e.changeState("select",!1),e.optsCache=null,e.owner.graphics.removeSelections(e.areaId),t||e.owner.removeSelectionFinish()}function o(t){var e=this;return e.isSelected()?e.deselect():e.select(t),e.isSelected()}var n=t.mapster,r=n.utils;n.AreaData=function(e,i,o){t.extend(this,{owner:e,key:i||"",isPrimary:!0,areaId:-1,href:"",value:o||"",options:{},selected:null,areasXref:[],area:null,optsCache:null})},n.AreaData.prototype={constuctor:n.AreaData,select:e,deselect:i,toggle:o,areas:function(){var t,e=[];for(t=0;t<this.areasXref.length;t++)e.push(this.owner.mapAreas[this.areasXref[t]]);return e},coords:function(e){var i=[];return t.each(this.areas(),function(t,o){i=i.concat(o.coords(e))}),i},reset:function(){t.each(this.areas(),function(t,e){e.reset()}),this.areasXref=[],this.options=null},isSelectedOrStatic:function(){var t=this.effectiveOptions();return r.isBool(t.staticState)?t.staticState:this.isSelected()},isSelected:function(){return r.isBool(this.selected)?this.selected:!!r.isBool(this.owner.area_options.selected)&&this.owner.area_options.selected},isSelectable:function(){return!r.isBool(this.effectiveOptions().staticState)&&(!r.isBool(this.owner.options.staticState)&&r.boolOrDefault(this.effectiveOptions().isSelectable,!0))},isDeselectable:function(){return!r.isBool(this.effectiveOptions().staticState)&&(!r.isBool(this.owner.options.staticState)&&r.boolOrDefault(this.effectiveOptions().isDeselectable,!0))},isNotRendered:function(){var e=t(this.area);return e.attr("nohref")||!e.attr("href")||this.effectiveOptions().isMask},effectiveOptions:function(t){var e=r.updateProps({},this.owner.area_options,this.options,t||{},{id:this.areaId});return e.selected=this.isSelected(),e},effectiveRenderOptions:function(e,i){var o,n=this.optsCache;return n&&"highlight"!==e||(o=this.effectiveOptions(i),n=r.updateProps({},o,o["render_"+e]),"highlight"!==e&&(this.optsCache=n)),t.extend({},n)},changeState:function(e,i){t.isFunction(this.owner.options.onStateChange)&&this.owner.options.onStateChange.call(this.owner.image,{key:this.key,state:e,selected:i})},highlight:function(t){var e=this.owner;this.effectiveOptions().highlight&&e.graphics.addShapeGroup(this,"highlight",t),e.setHighlightId(this.areaId),this.changeState("highlight",!0)},drawSelection:function(){this.owner.graphics.addShapeGroup(this,"select")}},n.MapArea=function(e,i,o){if(e){var n=this;n.owner=e,n.area=i,n.areaDataXref=[],n.originalCoords=[],t.each(r.split(i.coords),function(t,e){n.originalCoords.push(parseFloat(e))}),n.length=n.originalCoords.length,n.shape=i.shape.toLowerCase(),n.nohref=i.nohref||!i.href,n.configure(o)}},n.MapArea.prototype={constructor:n.MapArea,configure:function(t){this.keys=r.split(t)},reset:function(){this.area=null},coords:function(e){return t.map(this.originalCoords,function(t){return e?t:t+e})}}}(jQuery),function(t){var e=t.mapster.utils;e.areaCorners=function(i,o,n,r,s){var a,l,c,u,d,h,p,f,m,g,v,y,w,b,x,S,T,_,C,k,z=0,E=0,I=[];for(i=i.length?i:[i],n=t(n?n:document.body),a=n.offset(),x=a.left,S=a.top,o&&(a=t(o).offset(),z=a.left,E=a.top),b=0;b<i.length;b++)if(k=i[b],"AREA"===k.nodeName){switch(T=e.split(k.coords,parseInt),k.shape){case"circle":for(v=T[0],y=T[1],_=T[2],I=[],b=0;b<360;b+=20)C=b*Math.PI/180,I.push(v+_*Math.cos(C),y+_*Math.sin(C));break;case"rect":I.push(T[0],T[1],T[2],T[1],T[2],T[3],T[0],T[3]);break;default:I=I.concat(T)}for(b=0;b<I.length;b+=2)I[b]=parseInt(I[b],10)+z,I[b+1]=parseInt(I[b+1],10)+E}else k=t(k),a=k.position(),I.push(a.left,a.top,a.left+k.width(),a.top,a.left+k.width(),a.top+k.height(),a.left,a.top+k.height());for(c=u=p=m=999999,d=h=f=g=-1,b=I.length-2;b>=0;b-=2)v=I[b],y=I[b+1],v<c&&(c=v,g=y),v>d&&(d=v,m=y),y<u&&(u=y,f=v),y>h&&(h=y,p=v);return r&&s&&(l=!1,t.each([[f-r,u-s],[p,u-s],[c-r,g-s],[c-r,m],[d,g-s],[d,m],[f-r,h],[p,h]],function(t,e){if(!l&&e[0]>x&&e[1]>S)return w=e,l=!0,!1}),l||(w=[d,h])),w}}(jQuery),function(t){var e=t.mapster,i=e.utils,o=e.MapArea.prototype;e.utils.getScaleInfo=function(t,e){var i;return e?(i=t.width/e.width||t.height/e.height,i>.98&&i<1.02&&(i=1)):(i=1,e=t),{scale:1!==i,scalePct:i,realWidth:e.width,realHeight:e.height,width:t.width,height:t.height,ratio:t.width/t.height}},e.utils.scaleMap=function(t,e,o){var n=i.size(t),r=i.size(e,!0);if(!r.complete())throw"Another script, such as an extension, appears to be interfering with image loading. Please let us know about this.";return n.complete()||(n=r),this.getScaleInfo(n,o?r:null)},e.MapData.prototype.resize=function(o,n,r,s){function a(i,o,n){e.hasCanvas()?(i.width=o,i.height=n):(t(i).width(o),t(i).height(n))}function l(){v.currentAction="",t.isFunction(s)&&s(),v.processCommandQueue()}function c(){if(a(v.overlay_canvas,o,n),m>=0){var t=v.data[m];t.tempOptions={fade:!1},v.getDataForKey(t.key).highlight(),t.tempOptions=null}a(v.base_canvas,o,n),v.redrawSelections(),l()}function u(){t(v.image).css(p),v.scaleInfo=i.getScaleInfo({width:o,height:n},{width:v.scaleInfo.realWidth,height:v.scaleInfo.realHeight}),t.each(v.data,function(e,i){t.each(i.areas(),function(t,e){e.resize()})})}var d,h,p,f,m,g,v=this;s=s||r,v.scaleInfo.width===o&&v.scaleInfo.height===n||(m=v.highlightId,o||(g=n/v.scaleInfo.realHeight,o=Math.round(v.scaleInfo.realWidth*g)),n||(g=o/v.scaleInfo.realWidth,n=Math.round(v.scaleInfo.realHeight*g)),p={width:String(o)+"px",height:String(n)+"px"},e.hasCanvas()||t(v.base_canvas).children().remove(),f=t(v.wrapper).find(".mapster_el").add(v.wrapper),r?(h=[],v.currentAction="resizing",f.each(function(e,o){d=i.defer(),h.push(d),t(o).animate(p,{duration:r,complete:d.resolve,easing:"linear"})}),d=i.defer(),h.push(d),i.when.all(h).then(c),u(),d.resolve()):(f.css(p),u(),c()))},e.MapArea=i.subclass(e.MapArea,function(){this.base.init(),this.owner.scaleInfo.scale&&this.resize()}),o.coords=function(t,e){var i,o=[],n=t||this.owner.scaleInfo.scalePct,r=e||0;if(1===n&&0===e)return this.originalCoords;for(i=0;i<this.length;i++)o.push(Math.round(this.originalCoords[i]*n)+r);return o},o.resize=function(){this.area.coords=this.coords().join(",")},o.reset=function(){this.area.coords=this.coords(1).join(",")},e.impl.resize=function(t,i,o,n){if(!t&&!i)return!1;var r=new e.Method(this,function(){this.resize(t,i,o,n)},null,{name:"resize",args:arguments}).go();return r}}(jQuery),function(t){function e(e,i,o){var n;return i?(n="string"==typeof i?t(i):t(i).clone(),n.append(e)):n=t(e),n.css(t.extend(o||{},{display:"block",position:"absolute"})).hide(),t("body").append(n),n.attr("data-opacity",n.css("opacity")).css("opacity",0),n.show()}function i(t,e){var i={left:e.left+"px",top:e.top+"px"},o=t.attr("data-opacity")||0,n=t.css("z-index");0!==parseInt(n,10)&&"auto"!==n||(i["z-index"]=9999),t.css(i).addClass("mapster_tooltip"),e.fadeDuration&&e.fadeDuration>0?a.fader(t[0],0,o,e.fadeDuration):a.setOpacity(t[0],o)}function o(e,i,o,n,r,s){var a=o+".mapster-tooltip";if(t.inArray(i,e)>=0)return n.unbind(a).bind(a,function(t){r&&!r.call(this,t)||(n.unbind(".mapster-tooltip"),s&&s.call(this))}),{object:n,event:a}}function n(t,e,o,n,r){var s,l={};return r=r||{},e?(s=a.areaCorners(e,o,n,t.outerWidth(!0),t.outerHeight(!0)),l.left=s[0],l.top=s[1]):(l.left=r.left,l.top=r.top),l.left+=r.offsetx||0,l.top+=r.offsety||0,l.css=r.css,l.fadeDuration=r.fadeDuration,i(t,l),t}function r(t){return t?"string"==typeof t||t.jquery?t:t.content:null}var s=t.mapster,a=s.utils;t.extend(s.defaults,{toolTipContainer:'<div style="border: 2px solid black; background: #EEEEEE; width:160px; padding:4px; margin: 4px; -moz-box-shadow: 3px 3px 5px #535353; -webkit-box-shadow: 3px 3px 5px #535353; box-shadow: 3px 3px 5px #535353; -moz-border-radius: 6px 6px 6px 6px; -webkit-border-radius: 6px; border-radius: 6px 6px 6px 6px; opacity: 0.9;"></dteniv>',showToolTip:!1,toolTipFade:!0,toolTipClose:["area-mouseout","image-mouseout"],onShowToolTip:null,onHideToolTip:null}),t.extend(s.area_defaults,{toolTip:null,toolTipClose:null}),s.MapData.prototype.clearToolTip=function(){this.activeToolTip&&(this.activeToolTip.stop().remove(),this.activeToolTip=null,this.activeToolTipID=null,a.ifFunction(this.options.onHideToolTip,this))},s.AreaData.prototype.showToolTip=function(i,r){var s,l,c,u,d,h={},p=this,f=p.owner,m=p.effectiveOptions();if(r=r?t.extend({},r):{},i=i||m.toolTip,l=r.closeEvents||m.toolTipClose||f.options.toolTipClose||"tooltip-click",d="undefined"!=typeof r.template?r.template:f.options.toolTipContainer,r.closeEvents="string"==typeof l?l=a.split(l):l,r.fadeDuration=r.fadeDuration||(f.options.toolTipFade?f.options.fadeDuration||m.fadeDuration:0),c=p.area?p.area:t.map(p.areas(),function(t){return t.area}),f.activeToolTipID!==p.areaId)return f.clearToolTip(),f.activeToolTip=s=e(i,d,r.css),f.activeToolTipID=p.areaId,u=function(){f.clearToolTip()},o(l,"area-click","click",t(f.map),null,u),o(l,"tooltip-click","click",s,null,u),o(l,"image-mouseout","mouseout",t(f.image),function(t){return t.relatedTarget&&"AREA"!==t.relatedTarget.nodeName&&t.relatedTarget!==p.area},u),n(s,c,f.image,r.container,d,r),a.ifFunction(f.options.onShowToolTip,p.area,{toolTip:s,options:h,areaOptions:m,key:p.key,selected:p.isSelected()}),s},s.impl.tooltip=function(i,a){return new s.Method(this,function(){var s,l,c=this;if(i){if(l=t(i),c.activeToolTipID===l[0])return;c.clearToolTip(),c.activeToolTip=s=e(r(a),a.template||c.options.toolTipContainer,a.css),c.activeToolTipID=l[0],o(["tooltip-click"],"tooltip-click","click",s,null,function(){c.clearToolTip()}),c.activeToolTip=s=n(s,l,c.image,a.container,a)}else c.clearToolTip()},function(){t.isPlainObject(i)&&!a&&(a=i),this.showToolTip(r(a),a)},{name:"tooltip",args:arguments,key:i}).go()}}(jQuery),function(t,e,i){function o(i,o,n){var r=e.createElement(i);return o&&(r.id=J+o),n&&(r.style.cssText=n),t(r)}function n(){return i.innerHeight?i.innerHeight:t(i).height()}function r(t){var e=_.length,i=(B+t)%e;return i<0?e+i:i}function s(t,e){return Math.round((/%/.test(t)?("x"===e?C.width():n())/100:1)*parseInt(t,10))}function a(t,e){return t.photo||t.photoRegex.test(e)}function l(t,e){return t.retinaUrl&&i.devicePixelRatio>1?e.replace(t.photoRegex,t.retinaSuffix):e}function c(t){"contains"in v[0]&&!v[0].contains(t.target)&&(t.stopPropagation(),v.focus())}function u(){var e,i=t.data(F,Z);null==i?(D=t.extend({},Q),console&&console.log&&console.log("Error: cboxElement missing settings object")):D=t.extend({},i);for(e in D)t.isFunction(D[e])&&"on"!==e.slice(0,2)&&(D[e]=D[e].call(F));D.rel=D.rel||F.rel||t(F).data("rel")||"nofollow",D.href=D.href||t(F).attr("href"),D.title=D.title||F.title,"string"==typeof D.href&&(D.href=t.trim(D.href))}function d(i,o){t(e).trigger(i),at.triggerHandler(i),t.isFunction(o)&&o.call(F)}function h(i){K||(F=i,u(),_=t(F),B=0,"nofollow"!==D.rel&&(_=t("."+tt).filter(function(){var e,i=t.data(this,Z);return i&&(e=t(this).data("rel")||i.rel||this.rel),e===D.rel}),B=_.index(F),B===-1&&(_=_.add(F),B=_.length-1)),g.css({opacity:parseFloat(D.opacity),cursor:D.overlayClose?"pointer":"auto",visibility:"visible"}).show(),G&&v.add(g).removeClass(G),D.className&&v.add(g).addClass(D.className),G=D.className,D.closeButton?N.html(D.close).appendTo(w):N.appendTo("<div/>"),$||($=Y=!0,v.css({visibility:"hidden",display:"block"}),k=o(lt,"LoadedContent","width:0; height:0; overflow:hidden"),w.css({width:"",height:""}).append(k),W=b.height()+T.height()+w.outerHeight(!0)-w.height(),H=x.width()+S.width()+w.outerWidth(!0)-w.width(),j=k.outerHeight(!0),R=k.outerWidth(!0),D.w=s(D.initialWidth,"x"),D.h=s(D.initialHeight,"y"),k.css({width:"",height:D.h}),X.position(),d(et,D.onOpen),P.add(I).hide(),v.focus(),D.trapFocus&&e.addEventListener&&(e.addEventListener("focus",c,!0),at.one(rt,function(){e.removeEventListener("focus",c,!0)})),D.returnFocus&&at.one(rt,function(){t(F).focus()})),m())}function p(){!v&&e.body&&(U=!1,C=t(i),v=o(lt).attr({id:Z,"class":t.support.opacity===!1?J+"IE":"",role:"dialog",tabindex:"-1"}).hide(),g=o(lt,"Overlay").hide(),E=t([o(lt,"LoadingOverlay")[0],o(lt,"LoadingGraphic")[0]]),y=o(lt,"Wrapper"),w=o(lt,"Content").append(I=o(lt,"Title"),M=o(lt,"Current"),O=t('<button type="button"/>').attr({id:J+"Previous"}),A=t('<button type="button"/>').attr({id:J+"Next"}),L=o("button","Slideshow"),E),N=t('<button type="button"/>').attr({id:J+"Close"}),y.append(o(lt).append(o(lt,"TopLeft"),b=o(lt,"TopCenter"),o(lt,"TopRight")),o(lt,!1,"clear:left").append(x=o(lt,"MiddleLeft"),w,S=o(lt,"MiddleRight")),o(lt,!1,"clear:left").append(o(lt,"BottomLeft"),T=o(lt,"BottomCenter"),o(lt,"BottomRight"))).find("div div").css({"float":"left"}),z=o(lt,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),P=A.add(O).add(M).add(L),t(e.body).append(g,v.append(y,z)))}function f(){function i(t){t.which>1||t.shiftKey||t.altKey||t.metaKey||t.ctrlKey||(t.preventDefault(),h(this))}return!!v&&(U||(U=!0,A.click(function(){X.next()}),O.click(function(){X.prev()}),N.click(function(){X.close()}),g.click(function(){D.overlayClose&&X.close()}),t(e).bind("keydown."+J,function(t){var e=t.keyCode;$&&D.escKey&&27===e&&(t.preventDefault(),X.close()),$&&D.arrowKey&&_[1]&&!t.altKey&&(37===e?(t.preventDefault(),O.click()):39===e&&(t.preventDefault(),A.click()))}),t.isFunction(t.fn.on)?t(e).on("click."+J,"."+tt,i):t("."+tt).live("click."+J,i)),!0)}function m(){var n,r,c,h=X.prep,p=++ct;Y=!0,q=!1,F=_[B],u(),d(st),d(it,D.onLoad),D.h=D.height?s(D.height,"y")-j-W:D.innerHeight&&s(D.innerHeight,"y"),D.w=D.width?s(D.width,"x")-R-H:D.innerWidth&&s(D.innerWidth,"x"),D.mw=D.w,D.mh=D.h,D.maxWidth&&(D.mw=s(D.maxWidth,"x")-R-H,D.mw=D.w&&D.w<D.mw?D.w:D.mw),D.maxHeight&&(D.mh=s(D.maxHeight,"y")-j-W,D.mh=D.h&&D.h<D.mh?D.h:D.mh),n=D.href,V=setTimeout(function(){E.show()},100),D.inline?(c=o(lt).hide().insertBefore(t(n)[0]),at.one(st,function(){c.replaceWith(k.children())}),h(t(n))):D.iframe?h(" "):D.html?h(D.html):a(D,n)?(n=l(D,n),q=e.createElement("img"),t(q).addClass(J+"Photo").bind("error",function(){D.title=!1,h(o(lt,"Error").html(D.imgError))}).one("load",function(){var e;p===ct&&(t.each(["alt","longdesc","aria-describedby"],function(e,i){var o=t(F).attr(i)||t(F).attr("data-"+i);o&&q.setAttribute(i,o)}),D.retinaImage&&i.devicePixelRatio>1&&(q.height=q.height/i.devicePixelRatio,q.width=q.width/i.devicePixelRatio),D.scalePhotos&&(r=function(){q.height-=q.height*e,q.width-=q.width*e},D.mw&&q.width>D.mw&&(e=(q.width-D.mw)/q.width,r()),D.mh&&q.height>D.mh&&(e=(q.height-D.mh)/q.height,r())),D.h&&(q.style.marginTop=Math.max(D.mh-q.height,0)/2+"px"),_[1]&&(D.loop||_[B+1])&&(q.style.cursor="pointer",q.onclick=function(){X.next()}),q.style.width=q.width+"px",q.style.height=q.height+"px",setTimeout(function(){h(q)},1))}),setTimeout(function(){q.src=n},1)):n&&z.load(n,D.data,function(e,i){p===ct&&h("error"===i?o(lt,"Error").html(D.xhrError):t(this).contents())})}var g,v,y,w,b,x,S,T,_,C,k,z,E,I,M,L,A,O,N,P,D,W,H,j,R,F,B,q,$,Y,K,V,X,G,U,Q={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,href:!1,title:!1,rel:!1,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"Company {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1},Z="colorbox",J="cbox",tt=J+"Element",et=J+"_open",it=J+"_load",ot=J+"_complete",nt=J+"_cleanup",rt=J+"_closed",st=J+"_purge",at=t("<a/>"),lt="div",ct=0,ut={},dt=function(){function t(){clearTimeout(s)}function e(){(D.loop||_[B+1])&&(t(),s=setTimeout(X.next,D.slideshowSpeed))}function i(){L.html(D.slideshowStop).unbind(l).one(l,o),at.bind(ot,e).bind(it,t),v.removeClass(a+"off").addClass(a+"on")}function o(){t(),at.unbind(ot,e).unbind(it,t),L.html(D.slideshowStart).unbind(l).one(l,function(){X.next(),i()}),v.removeClass(a+"on").addClass(a+"off")}function n(){r=!1,L.hide(),t(),at.unbind(ot,e).unbind(it,t),v.removeClass(a+"off "+a+"on")}var r,s,a=J+"Slideshow_",l="click."+J;return function(){r?D.slideshow||(at.unbind(nt,n),n()):D.slideshow&&_[1]&&(r=!0,at.one(nt,n),D.slideshowAuto?i():o(),L.show())}}();t.colorbox||(t(p),X=t.fn[Z]=t[Z]=function(e,i){var o=this;if(e=e||{},p(),f()){if(t.isFunction(o))o=t("<a/>"),e.open=!0;else if(!o[0])return o;i&&(e.onComplete=i),o.each(function(){t.data(this,Z,t.extend({},t.data(this,Z)||Q,e))}).addClass(tt),(t.isFunction(e.open)&&e.open.call(o)||e.open)&&h(o[0])}return o},X.position=function(e,i){function o(){b[0].style.width=T[0].style.width=w[0].style.width=parseInt(v[0].style.width,10)-H+"px",w[0].style.height=x[0].style.height=S[0].style.height=parseInt(v[0].style.height,10)-W+"px"}var r,a,l,c=0,u=0,d=v.offset();
if(C.unbind("resize."+J),v.css({top:-9e4,left:-9e4}),a=C.scrollTop(),l=C.scrollLeft(),D.fixed?(d.top-=a,d.left-=l,v.css({position:"fixed"})):(c=a,u=l,v.css({position:"absolute"})),u+=D.right!==!1?Math.max(C.width()-D.w-R-H-s(D.right,"x"),0):D.left!==!1?s(D.left,"x"):Math.round(Math.max(C.width()-D.w-R-H,0)/2),c+=D.bottom!==!1?Math.max(n()-D.h-j-W-s(D.bottom,"y"),0):D.top!==!1?s(D.top,"y"):Math.round(Math.max(n()-D.h-j-W,0)/2),v.css({top:d.top,left:d.left,visibility:"visible"}),y[0].style.width=y[0].style.height="9999px",r={width:D.w+R+H,height:D.h+j+W,top:c,left:u},e){var h=0;t.each(r,function(t){if(r[t]!==ut[t])return void(h=e)}),e=h}ut=r,e||v.css(r),v.dequeue().animate(r,{duration:e||0,complete:function(){o(),Y=!1,y[0].style.width=D.w+R+H+"px",y[0].style.height=D.h+j+W+"px",D.reposition&&setTimeout(function(){C.bind("resize."+J,X.position)},1),i&&i()},step:o})},X.resize=function(t){var e;$&&(t=t||{},t.width&&(D.w=s(t.width,"x")-R-H),t.innerWidth&&(D.w=s(t.innerWidth,"x")),k.css({width:D.w}),t.height&&(D.h=s(t.height,"y")-j-W),t.innerHeight&&(D.h=s(t.innerHeight,"y")),t.innerHeight||t.height||(e=k.scrollTop(),k.css({height:"auto"}),D.h=k.height()),k.css({height:D.h}),e&&k.scrollTop(e),X.position("none"===D.transition?0:D.speed))},X.prep=function(i){function n(){return D.w=D.w||k.width(),D.w=D.mw&&D.mw<D.w?D.mw:D.w,D.w}function s(){return D.h=D.h||k.height(),D.h=D.mh&&D.mh<D.h?D.mh:D.h,D.h}if($){var c,u="none"===D.transition?0:D.speed;k.empty().remove(),k=o(lt,"LoadedContent").append(i),k.hide().appendTo(z.show()).css({width:n(),overflow:D.scrolling?"auto":"hidden"}).css({height:s()}).prependTo(w),z.hide(),t(q).css({"float":"none"}),c=function(){function i(){t.support.opacity===!1&&v[0].style.removeAttribute("filter")}var n,s,c=_.length,h="frameBorder",p="allowTransparency";$&&(s=function(){clearTimeout(V),E.hide(),d(ot,D.onComplete)},I.html(D.title).add(k).show(),c>1?("string"==typeof D.current&&M.html(D.current.replace("{current}",B+1).replace("{total}",c)).show(),A[D.loop||B<c-1?"show":"hide"]().html(D.next),O[D.loop||B?"show":"hide"]().html(D.previous),dt(),D.preloading&&t.each([r(-1),r(1)],function(){var i,o,n=_[this],r=t.data(n,Z);r&&r.href?(i=r.href,t.isFunction(i)&&(i=i.call(n))):i=t(n).attr("href"),i&&a(r,i)&&(i=l(r,i),o=e.createElement("img"),o.src=i)})):P.hide(),D.iframe?(n=o("iframe")[0],h in n&&(n[h]=0),p in n&&(n[p]="true"),D.scrolling||(n.scrolling="no"),t(n).attr({src:D.href,name:(new Date).getTime(),"class":J+"Iframe",allowFullScreen:!0,webkitAllowFullScreen:!0,mozallowfullscreen:!0}).one("load",s).appendTo(k),at.one(st,function(){n.src="//about:blank"}),D.fastIframe&&t(n).trigger("load")):s(),"fade"===D.transition?v.fadeTo(u,1,i):i())},"fade"===D.transition?v.fadeTo(u,0,function(){X.position(0,c)}):X.position(u,c)}},X.next=function(){!Y&&_[1]&&(D.loop||_[B+1])&&(B=r(1),h(_[B]))},X.prev=function(){!Y&&_[1]&&(D.loop||B)&&(B=r(-1),h(_[B]))},X.close=function(){$&&!K&&(K=!0,$=!1,d(nt,D.onCleanup),C.unbind("."+J),g.fadeTo(D.fadeOut||0,0),v.stop().fadeTo(D.fadeOut||0,0,function(){v.add(g).css({opacity:1,cursor:"auto"}).hide(),d(st),k.empty().remove(),setTimeout(function(){K=!1,d(rt,D.onClosed)},1)}))},X.remove=function(){v&&(v.stop(),t.colorbox.close(),v.stop().remove(),g.remove(),K=!1,v=null,t("."+tt).removeData(Z).removeClass(tt),t(e).unbind("click."+J))},X.element=function(){return t(F)},X.settings=Q)}(jQuery,document,window),function(t){function e(){}function i(t){function i(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function n(e,i){t.fn[e]=function(n){if("string"==typeof n){for(var s=o.call(arguments,1),a=0,l=this.length;l>a;a++){var c=this[a],u=t.data(c,e);if(u)if(t.isFunction(u[n])&&"_"!==n.charAt(0)){var d=u[n].apply(u,s);if(void 0!==d)return d}else r("no such method '"+n+"' for "+e+" instance");else r("cannot call methods on "+e+" prior to initialization; attempted to call '"+n+"'")}return this}return this.each(function(){var o=t.data(this,e);o?(o.option(n),o._init()):(o=new i(this,n),t.data(this,e,o))})}}if(t){var r="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){i(e),n(t,e)},t.bridget}}var o=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],i):i("object"==typeof exports?require("jquery"):t.jQuery)}(window),function(t){function e(e){var i=t.event;return i.target=i.target||i.srcElement||e,i}var i=document.documentElement,o=function(){};i.addEventListener?o=function(t,e,i){t.addEventListener(e,i,!1)}:i.attachEvent&&(o=function(t,i,o){t[i+o]=o.handleEvent?function(){var i=e(t);o.handleEvent.call(o,i)}:function(){var i=e(t);o.call(t,i)},t.attachEvent("on"+i,t[i+o])});var n=function(){};i.removeEventListener?n=function(t,e,i){t.removeEventListener(e,i,!1)}:i.detachEvent&&(n=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(o){t[e+i]=void 0}});var r={bind:o,unbind:n};"function"==typeof define&&define.amd?define("eventie/eventie",r):"object"==typeof exports?module.exports=r:t.eventie=r}(this),function(t){function e(t){"function"==typeof t&&(e.isReady?t():s.push(t))}function i(t){var i="readystatechange"===t.type&&"complete"!==r.readyState;e.isReady||i||o()}function o(){e.isReady=!0;for(var t=0,i=s.length;i>t;t++){var o=s[t];o()}}function n(n){return"complete"===r.readyState?o():(n.bind(r,"DOMContentLoaded",i),n.bind(r,"readystatechange",i),n.bind(t,"load",i)),e}var r=t.document,s=[];e.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],n):"object"==typeof exports?module.exports=n(require("eventie")):t.docReady=n(t.eventie)}(window),function(){function t(){}function e(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}var o=t.prototype,n=this,r=n.EventEmitter;o.getListeners=function(t){var e,i,o=this._getEvents();if(t instanceof RegExp){e={};for(i in o)o.hasOwnProperty(i)&&t.test(i)&&(e[i]=o[i])}else e=o[t]||(o[t]=[]);return e},o.flattenListeners=function(t){var e,i=[];for(e=0;t.length>e;e+=1)i.push(t[e].listener);return i},o.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&(e={},e[t]=i),e||i},o.addListener=function(t,i){var o,n=this.getListenersAsObject(t),r="object"==typeof i;for(o in n)n.hasOwnProperty(o)&&-1===e(n[o],i)&&n[o].push(r?i:{listener:i,once:!1});return this},o.on=i("addListener"),o.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},o.once=i("addOnceListener"),o.defineEvent=function(t){return this.getListeners(t),this},o.defineEvents=function(t){for(var e=0;t.length>e;e+=1)this.defineEvent(t[e]);return this},o.removeListener=function(t,i){var o,n,r=this.getListenersAsObject(t);for(n in r)r.hasOwnProperty(n)&&(o=e(r[n],i),-1!==o&&r[n].splice(o,1));return this},o.off=i("removeListener"),o.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},o.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},o.manipulateListeners=function(t,e,i){var o,n,r=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(o=i.length;o--;)r.call(this,e,i[o]);else for(o in e)e.hasOwnProperty(o)&&(n=e[o])&&("function"==typeof n?r.call(this,o,n):s.call(this,o,n));return this},o.removeEvent=function(t){var e,i=typeof t,o=this._getEvents();if("string"===i)delete o[t];else if(t instanceof RegExp)for(e in o)o.hasOwnProperty(e)&&t.test(e)&&delete o[e];else delete this._events;return this},o.removeAllListeners=i("removeEvent"),o.emitEvent=function(t,e){var i,o,n,r,s=this.getListenersAsObject(t);for(n in s)if(s.hasOwnProperty(n))for(o=s[n].length;o--;)i=s[n][o],i.once===!0&&this.removeListener(t,i.listener),r=i.listener.apply(this,e||[]),r===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},o.trigger=i("emitEvent"),o.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},o.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},o._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},o._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return n.EventEmitter=r,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:n.EventEmitter=t}.call(this),function(t){function e(t){if(t){if("string"==typeof o[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,n=0,r=i.length;r>n;n++)if(e=i[n]+t,"string"==typeof o[e])return e}}var i="Webkit Moz ms Ms O".split(" "),o=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return e}):"object"==typeof exports?module.exports=e:t.getStyleProperty=e}(window),function(t){function e(t){var e=parseFloat(t),i=-1===t.indexOf("%")&&!isNaN(e);return i&&e}function i(){}function o(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,i=s.length;i>e;e++){var o=s[e];t[o]=0}return t}function n(i){function n(){if(!h){h=!0;var o=t.getComputedStyle;if(c=function(){var t=o?function(t){return o(t,null)}:function(t){return t.currentStyle};return function(e){var i=t(e);return i||r("Style returned "+i+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),i}}(),u=i("boxSizing")){var n=document.createElement("div");n.style.width="200px",n.style.padding="1px 2px 3px 4px",n.style.borderStyle="solid",n.style.borderWidth="1px 2px 3px 4px",n.style[u]="border-box";var s=document.body||document.documentElement;s.appendChild(n);var a=c(n);d=200===e(a.width),s.removeChild(n)}}}function a(t){if(n(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var i=c(t);if("none"===i.display)return o();var r={};r.width=t.offsetWidth,r.height=t.offsetHeight;for(var a=r.isBorderBox=!(!u||!i[u]||"border-box"!==i[u]),h=0,p=s.length;p>h;h++){var f=s[h],m=i[f];m=l(t,m);var g=parseFloat(m);r[f]=isNaN(g)?0:g}var v=r.paddingLeft+r.paddingRight,y=r.paddingTop+r.paddingBottom,w=r.marginLeft+r.marginRight,b=r.marginTop+r.marginBottom,x=r.borderLeftWidth+r.borderRightWidth,S=r.borderTopWidth+r.borderBottomWidth,T=a&&d,_=e(i.width);_!==!1&&(r.width=_+(T?0:v+x));var C=e(i.height);return C!==!1&&(r.height=C+(T?0:y+S)),r.innerWidth=r.width-(v+x),r.innerHeight=r.height-(y+S),r.outerWidth=r.width+w,r.outerHeight=r.height+b,r}}function l(e,i){if(t.getComputedStyle||-1===i.indexOf("%"))return i;var o=e.style,n=o.left,r=e.runtimeStyle,s=r&&r.left;return s&&(r.left=e.currentStyle.left),o.left=i,i=o.pixelLeft,o.left=n,s&&(r.left=s),i}var c,u,d,h=!1;return a}var r="undefined"==typeof console?i:function(t){console.error(t)},s=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],n):"object"==typeof exports?module.exports=n(require("desandro-get-style-property")):t.getSize=n(t.getStyleProperty)}(window),function(t){function e(t,e){return t[s](e)}function i(t){if(!t.parentNode){var e=document.createDocumentFragment();e.appendChild(t)}}function o(t,e){i(t);for(var o=t.parentNode.querySelectorAll(e),n=0,r=o.length;r>n;n++)if(o[n]===t)return!0;return!1}function n(t,o){return i(t),e(t,o)}var r,s=function(){if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0,o=e.length;o>i;i++){var n=e[i],r=n+"MatchesSelector";if(t[r])return r}}();if(s){var a=document.createElement("div"),l=e(a,"div");r=l?e:n}else r=o;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return r}):"object"==typeof exports?module.exports=r:window.matchesSelector=r}(Element.prototype),function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t){for(var e in t)return!1;return e=null,!0}function o(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function n(t,n,r){function a(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var l=r("transition"),c=r("transform"),u=l&&c,d=!!r("perspective"),h={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[l],p=["transform","transition","transitionDuration","transitionProperty"],f=function(){for(var t={},e=0,i=p.length;i>e;e++){var o=p[e],n=r(o);n&&n!==o&&(t[o]=n)}return t}();e(a.prototype,t.prototype),a.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},a.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},a.prototype.getSize=function(){this.size=n(this.element)},a.prototype.css=function(t){var e=this.element.style;for(var i in t){var o=f[i]||i;e[o]=t[i]}},a.prototype.getPosition=function(){var t=s(this.element),e=this.layout.options,i=e.isOriginLeft,o=e.isOriginTop,n=parseInt(t[i?"left":"right"],10),r=parseInt(t[o?"top":"bottom"],10);n=isNaN(n)?0:n,r=isNaN(r)?0:r;var a=this.layout.size;n-=i?a.paddingLeft:a.paddingRight,r-=o?a.paddingTop:a.paddingBottom,this.position.x=n,this.position.y=r},a.prototype.layoutPosition=function(){var t=this.layout.size,e=this.layout.options,i={};e.isOriginLeft?(i.left=this.position.x+t.paddingLeft+"px",i.right=""):(i.right=this.position.x+t.paddingRight+"px",i.left=""),e.isOriginTop?(i.top=this.position.y+t.paddingTop+"px",i.bottom=""):(i.bottom=this.position.y+t.paddingBottom+"px",i.top=""),this.css(i),this.emitEvent("layout",[this])};var m=d?function(t,e){return"translate3d("+t+"px, "+e+"px, 0)"}:function(t,e){return"translate("+t+"px, "+e+"px)"};a.prototype._transitionTo=function(t,e){this.getPosition();var i=this.position.x,o=this.position.y,n=parseInt(t,10),r=parseInt(e,10),s=n===this.position.x&&r===this.position.y;if(this.setPosition(t,e),s&&!this.isTransitioning)return void this.layoutPosition();var a=t-i,l=e-o,c={},u=this.layout.options;a=u.isOriginLeft?a:-a,l=u.isOriginTop?l:-l,c.transform=m(a,l),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},a.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},a.prototype.moveTo=u?a.prototype._transitionTo:a.prototype.goTo,a.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},a.prototype._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},a.prototype._transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);var o=this.element.offsetHeight;o=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var g=c&&o(c)+",opacity";a.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:g,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(h,this,!1))},a.prototype.transition=a.prototype[l?"_transition":"_nonTransition"],a.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},a.prototype.onotransitionend=function(t){this.ontransitionend(t)};var v={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};a.prototype.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,o=v[t.propertyName]||t.propertyName;if(delete e.ingProperties[o],i(e.ingProperties)&&this.disableTransition(),o in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[o]),o in e.onEnd){var n=e.onEnd[o];n.call(this),delete e.onEnd[o]}this.emitEvent("transitionEnd",[this])}},a.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(h,this,!1),this.isTransitioning=!1},a.prototype._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var y={transitionProperty:"",transitionDuration:""};return a.prototype.removeTransitionStyles=function(){this.css(y)},a.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},a.prototype.remove=function(){if(!l||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var t=this;this.on("transitionEnd",function(){return t.removeElem(),!0}),this.hide()},a.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options;this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0})},a.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options;this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},a.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a}var r=t.getComputedStyle,s=r?function(t){return r(t,null)}:function(t){return t.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],n):"object"==typeof exports?module.exports=n(require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property")):(t.Outlayer={},t.Outlayer.Item=n(t.EventEmitter,t.getSize,t.getStyleProperty))}(window),function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t){return"[object Array]"===d.call(t)}function o(t){var e=[];if(i(t))e=t;else if(t&&"number"==typeof t.length)for(var o=0,n=t.length;n>o;o++)e.push(t[o]);else e.push(t);return e}function n(t,e){var i=p(e,t);-1!==i&&e.splice(i,1)}function r(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()}function s(i,s,d,p,f,m){function g(t,i){if("string"==typeof t&&(t=a.querySelector(t)),!t||!h(t))return void(l&&l.error("Bad "+this.constructor.namespace+" element: "+t));this.element=t,this.options=e({},this.constructor.defaults),this.option(i);var o=++v;this.element.outlayerGUID=o,y[o]=this,this._create(),this.options.isInitLayout&&this.layout()}var v=0,y={};return g.namespace="outlayer",g.Item=m,g.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},e(g.prototype,d.prototype),g.prototype.option=function(t){e(this.options,t)},g.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),e(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},g.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},g.prototype._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,o=[],n=0,r=e.length;r>n;n++){var s=e[n],a=new i(s,this);o.push(a)}return o},g.prototype._filterFindItemElements=function(t){t=o(t);for(var e=this.options.itemSelector,i=[],n=0,r=t.length;r>n;n++){var s=t[n];if(h(s))if(e){f(s,e)&&i.push(s);for(var a=s.querySelectorAll(e),l=0,c=a.length;c>l;l++)i.push(a[l])}else i.push(s)}return i},g.prototype.getItemElements=function(){for(var t=[],e=0,i=this.items.length;i>e;e++)t.push(this.items[e].element);return t},g.prototype.layout=function(){this._resetLayout(),this._manageStamps();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},g.prototype._init=g.prototype.layout,g.prototype._resetLayout=function(){this.getSize()},g.prototype.getSize=function(){this.size=p(this.element)},g.prototype._getMeasurement=function(t,e){var i,o=this.options[t];o?("string"==typeof o?i=this.element.querySelector(o):h(o)&&(i=o),this[t]=i?p(i)[e]:o):this[t]=0},g.prototype.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},g.prototype._getItemsForLayout=function(t){for(var e=[],i=0,o=t.length;o>i;i++){var n=t[i];n.isIgnored||e.push(n)}return e},g.prototype._layoutItems=function(t,e){function i(){o.emitEvent("layoutComplete",[o,t])}var o=this;if(!t||!t.length)return void i();this._itemsOn(t,"layout",i);for(var n=[],r=0,s=t.length;s>r;r++){var a=t[r],l=this._getItemLayoutPosition(a);l.item=a,l.isInstant=e||a.isLayoutInstant,n.push(l)}this._processLayoutQueue(n)},g.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},g.prototype._processLayoutQueue=function(t){for(var e=0,i=t.length;i>e;e++){var o=t[e];this._positionItem(o.item,o.x,o.y,o.isInstant)}},g.prototype._positionItem=function(t,e,i,o){o?t.goTo(e,i):t.moveTo(e,i)},g.prototype._postLayout=function(){this.resizeContainer()},g.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},g.prototype._getContainerSize=u,g.prototype._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},g.prototype._itemsOn=function(t,e,i){function o(){return n++,n===r&&i.call(s),!0}for(var n=0,r=t.length,s=this,a=0,l=t.length;l>a;a++){var c=t[a];c.on(e,o)}},g.prototype.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},g.prototype.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},g.prototype.stamp=function(t){if(t=this._find(t)){this.stamps=this.stamps.concat(t);for(var e=0,i=t.length;i>e;e++){var o=t[e];this.ignore(o)}}},g.prototype.unstamp=function(t){if(t=this._find(t))for(var e=0,i=t.length;i>e;e++){var o=t[e];n(o,this.stamps),this.unignore(o)}},g.prototype._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=o(t)):void 0},g.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var t=0,e=this.stamps.length;e>t;t++){var i=this.stamps[t];this._manageStamp(i)}}},g.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},g.prototype._manageStamp=u,g.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,o=p(t),n={left:e.left-i.left-o.marginLeft,top:e.top-i.top-o.marginTop,right:i.right-e.right-o.marginRight,bottom:i.bottom-e.bottom-o.marginBottom};return n},g.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},g.prototype.bindResize=function(){this.isResizeBound||(i.bind(t,"resize",this),this.isResizeBound=!0)},g.prototype.unbindResize=function(){this.isResizeBound&&i.unbind(t,"resize",this),this.isResizeBound=!1},g.prototype.onresize=function(){function t(){e.resize(),delete e.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var e=this;this.resizeTimeout=setTimeout(t,100)},g.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},g.prototype.needsResizeLayout=function(){var t=p(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},g.prototype.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},g.prototype.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},g.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},g.prototype.reveal=function(t){var e=t&&t.length;if(e)for(var i=0;e>i;i++){var o=t[i];o.reveal()}},g.prototype.hide=function(t){var e=t&&t.length;if(e)for(var i=0;e>i;i++){var o=t[i];o.hide()}},g.prototype.getItem=function(t){for(var e=0,i=this.items.length;i>e;e++){var o=this.items[e];if(o.element===t)return o}},g.prototype.getItems=function(t){if(t&&t.length){for(var e=[],i=0,o=t.length;o>i;i++){var n=t[i],r=this.getItem(n);r&&e.push(r)}return e}},g.prototype.remove=function(t){t=o(t);var e=this.getItems(t);if(e&&e.length){this._itemsOn(e,"remove",function(){this.emitEvent("removeComplete",[this,e])});for(var i=0,r=e.length;r>i;i++){var s=e[i];s.remove(),n(s,this.items)}}},g.prototype.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="";for(var e=0,i=this.items.length;i>e;e++){var o=this.items[e];o.destroy()}this.unbindResize();var n=this.element.outlayerGUID;delete y[n],delete this.element.outlayerGUID,c&&c.removeData(this.element,this.constructor.namespace)},g.data=function(t){var e=t&&t.outlayerGUID;return e&&y[e]},g.create=function(t,i){function o(){g.apply(this,arguments)}return Object.create?o.prototype=Object.create(g.prototype):e(o.prototype,g.prototype),o.prototype.constructor=o,o.defaults=e({},g.defaults),e(o.defaults,i),o.prototype.settings={},o.namespace=t,o.data=g.data,o.Item=function(){m.apply(this,arguments)},o.Item.prototype=new m,s(function(){for(var e=r(t),i=a.querySelectorAll(".js-"+e),n="data-"+e+"-options",s=0,u=i.length;u>s;s++){var d,h=i[s],p=h.getAttribute(n);try{d=p&&JSON.parse(p)}catch(f){l&&l.error("Error parsing "+n+" on "+h.nodeName.toLowerCase()+(h.id?"#"+h.id:"")+": "+f);continue}var m=new o(h,d);c&&c.data(h,t,m)}}),c&&c.bridget&&c.bridget(t,o),o},g.Item=m,g}var a=t.document,l=t.console,c=t.jQuery,u=function(){},d=Object.prototype.toString,h="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName},p=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,o=t.length;o>i;i++)if(t[i]===e)return i;return-1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],s):"object"==typeof exports?module.exports=s(require("eventie"),require("doc-ready"),require("wolfy87-eventemitter"),require("get-size"),require("desandro-matches-selector"),require("./item")):t.Outlayer=s(t.eventie,t.docReady,t.EventEmitter,t.getSize,t.matchesSelector,t.Outlayer.Item)}(window),function(t){function e(t){function e(){t.Item.apply(this,arguments)}e.prototype=new t.Item,e.prototype._create=function(){this.id=this.layout.itemGUID++,t.Item.prototype._create.call(this),this.sortData={}},e.prototype.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var t=this.layout.options.getSortData,e=this.layout._sorters;for(var i in t){var o=e[i];this.sortData[i]=o(this.element,this)}}};var i=e.prototype.destroy;return e.prototype.destroy=function(){i.apply(this,arguments),this.css({display:""})},e}"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],e):"object"==typeof exports?module.exports=e(require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.Item=e(t.Outlayer))}(window),function(t){function e(t,e){function i(t){this.isotope=t,t&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}return function(){function t(t){return function(){return e.prototype[t].apply(this.isotope,arguments)}}for(var o=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout"],n=0,r=o.length;r>n;n++){var s=o[n];i.prototype[s]=t(s)}}(),i.prototype.needsVerticalResizeLayout=function(){var e=t(this.isotope.element),i=this.isotope.size&&e;return i&&e.innerHeight!==this.isotope.size.innerHeight},i.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},i.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")},i.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")},i.prototype.getSegmentSize=function(t,e){var i=t+e,o="outer"+e;if(this._getMeasurement(i,o),!this[i]){var n=this.getFirstItemSize();this[i]=n&&n[o]||this.isotope.size["inner"+e]}},i.prototype.getFirstItemSize=function(){var e=this.isotope.filteredItems[0];return e&&e.element&&t(e.element)},i.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},i.prototype.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},i.modes={},i.create=function(t,e){function o(){i.apply(this,arguments)}return o.prototype=new i,e&&(o.options=e),o.prototype.namespace=t,i.modes[t]=o,o},i}"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],e):"object"==typeof exports?module.exports=e(require("get-size"),require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.LayoutMode=e(t.getSize,t.Outlayer))}(window),function(t){function e(t,e){var o=t.create("masonry");return o.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.maxY=0},o.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},o.prototype.getContainerWidth=function(){var t=this.options.isFitWidth?this.element.parentNode:this.element,i=e(t);this.containerWidth=i&&i.innerWidth},o.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,o=e&&1>e?"round":"ceil",n=Math[o](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var r=this._getColGroup(n),s=Math.min.apply(Math,r),a=i(r,s),l={x:this.columnWidth*a,y:s},c=s+t.size.outerHeight,u=this.cols+1-r.length,d=0;u>d;d++)this.colYs[a+d]=c;return l},o.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],i=this.cols+1-t,o=0;i>o;o++){var n=this.colYs.slice(o,o+t);e[o]=Math.max.apply(Math,n)}return e},o.prototype._manageStamp=function(t){var i=e(t),o=this._getElementOffset(t),n=this.options.isOriginLeft?o.left:o.right,r=n+i.outerWidth,s=Math.floor(n/this.columnWidth);s=Math.max(0,s);var a=Math.floor(r/this.columnWidth);a-=r%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var l=(this.options.isOriginTop?o.top:o.bottom)+i.outerHeight,c=s;a>=c;c++)this.colYs[c]=Math.max(l,this.colYs[c])},o.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),t},o.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},o.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!==this.containerWidth},o}var i=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,o=t.length;o>i;i++){var n=t[i];if(n===e)return i}return-1};"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],e):"object"==typeof exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize);
}(window),function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t,i){var o=t.create("masonry"),n=o.prototype._getElementOffset,r=o.prototype.layout,s=o.prototype._getMeasurement;e(o.prototype,i.prototype),o.prototype._getElementOffset=n,o.prototype.layout=r,o.prototype._getMeasurement=s;var a=o.prototype.measureColumns;o.prototype.measureColumns=function(){this.items=this.isotope.filteredItems,a.call(this)};var l=o.prototype._manageStamp;return o.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft,this.options.isOriginTop=this.isotope.options.isOriginTop,l.apply(this,arguments)},o}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],i):"object"==typeof exports?module.exports=i(require("../layout-mode"),require("masonry-layout")):i(t.Isotope.LayoutMode,t.Masonry)}(window),function(t){function e(t){var e=t.create("fitRows");return e.prototype._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},e.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth+this.gutter,i=this.isotope.size.innerWidth+this.gutter;0!==this.x&&e+this.x>i&&(this.x=0,this.y=this.maxY);var o={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=e,o},e.prototype._getContainerSize=function(){return{height:this.maxY}},e}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],e):"object"==typeof exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window),function(t){function e(t){var e=t.create("vertical",{horizontalAlignment:0});return e.prototype._resetLayout=function(){this.y=0},e.prototype._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,i=this.y;return this.y+=t.size.outerHeight,{x:e,y:i}},e.prototype._getContainerSize=function(){return{height:this.y}},e}"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],e):"object"==typeof exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window),function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t){return"[object Array]"===u.call(t)}function o(t){var e=[];if(i(t))e=t;else if(t&&"number"==typeof t.length)for(var o=0,n=t.length;n>o;o++)e.push(t[o]);else e.push(t);return e}function n(t,e){var i=d(e,t);-1!==i&&e.splice(i,1)}function r(t,i,r,l,u){function d(t,e){return function(i,o){for(var n=0,r=t.length;r>n;n++){var s=t[n],a=i.sortData[s],l=o.sortData[s];if(a>l||l>a){var c=void 0!==e[s]?e[s]:e,u=c?1:-1;return(a>l?1:-1)*u}}return 0}}var h=t.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});h.Item=l,h.LayoutMode=u,h.prototype._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),t.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var e in u.modes)this._initLayoutMode(e)},h.prototype.reloadItems=function(){this.itemGUID=0,t.prototype.reloadItems.call(this)},h.prototype._itemize=function(){for(var e=t.prototype._itemize.apply(this,arguments),i=0,o=e.length;o>i;i++){var n=e[i];n.id=this.itemGUID++}return this._updateItemsSortData(e),e},h.prototype._initLayoutMode=function(t){var i=u.modes[t],o=this.options[t]||{};this.options[t]=i.options?e(i.options,o):o,this.modes[t]=new i(this)},h.prototype.layout=function(){return!this._isLayoutInited&&this.options.isInitLayout?void this.arrange():void this._layout()},h.prototype._layout=function(){var t=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},h.prototype.arrange=function(t){this.option(t),this._getIsInstant(),this.filteredItems=this._filter(this.items),this._sort(),this._layout()},h.prototype._init=h.prototype.arrange,h.prototype._getIsInstant=function(){var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=t,t},h.prototype._filter=function(t){function e(){d.reveal(n),d.hide(r)}var i=this.options.filter;i=i||"*";for(var o=[],n=[],r=[],s=this._getFilterTest(i),a=0,l=t.length;l>a;a++){var c=t[a];if(!c.isIgnored){var u=s(c);u&&o.push(c),u&&c.isHidden?n.push(c):u||c.isHidden||r.push(c)}}var d=this;return this._isInstant?this._noTransition(e):e(),o},h.prototype._getFilterTest=function(t){return s&&this.options.isJQueryFiltering?function(e){return s(e.element).is(t)}:"function"==typeof t?function(e){return t(e.element)}:function(e){return r(e.element,t)}},h.prototype.updateSortData=function(t){var e;t?(t=o(t),e=this.getItems(t)):e=this.items,this._getSorters(),this._updateItemsSortData(e)},h.prototype._getSorters=function(){var t=this.options.getSortData;for(var e in t){var i=t[e];this._sorters[e]=p(i)}},h.prototype._updateItemsSortData=function(t){for(var e=t&&t.length,i=0;e&&e>i;i++){var o=t[i];o.updateSortData()}};var p=function(){function t(t){if("string"!=typeof t)return t;var i=a(t).split(" "),o=i[0],n=o.match(/^\[(.+)\]$/),r=n&&n[1],s=e(r,o),l=h.sortDataParsers[i[1]];return t=l?function(t){return t&&l(s(t))}:function(t){return t&&s(t)}}function e(t,e){var i;return i=t?function(e){return e.getAttribute(t)}:function(t){var i=t.querySelector(e);return i&&c(i)}}return t}();h.sortDataParsers={parseInt:function(t){return parseInt(t,10)},parseFloat:function(t){return parseFloat(t)}},h.prototype._sort=function(){var t=this.options.sortBy;if(t){var e=[].concat.apply(t,this.sortHistory),i=d(e,this.options.sortAscending);this.filteredItems.sort(i),t!==this.sortHistory[0]&&this.sortHistory.unshift(t)}},h.prototype._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(!e)throw Error("No layout mode: "+t);return e.options=this.options[t],e},h.prototype._resetLayout=function(){t.prototype._resetLayout.call(this),this._mode()._resetLayout()},h.prototype._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},h.prototype._manageStamp=function(t){this._mode()._manageStamp(t)},h.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},h.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()},h.prototype.appended=function(t){var e=this.addItems(t);if(e.length){var i=this._filterRevealAdded(e);this.filteredItems=this.filteredItems.concat(i)}},h.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps();var o=this._filterRevealAdded(e);this.layoutItems(i),this.filteredItems=o.concat(this.filteredItems)}},h.prototype._filterRevealAdded=function(t){var e=this._noTransition(function(){return this._filter(t)});return this.layoutItems(e,!0),this.reveal(e),t},h.prototype.insert=function(t){var e=this.addItems(t);if(e.length){var i,o,n=e.length;for(i=0;n>i;i++)o=e[i],this.element.appendChild(o.element);var r=this._filter(e);for(this._noTransition(function(){this.hide(r)}),i=0;n>i;i++)e[i].isLayoutInstant=!0;for(this.arrange(),i=0;n>i;i++)delete e[i].isLayoutInstant;this.reveal(r)}};var f=h.prototype.remove;return h.prototype.remove=function(t){t=o(t);var e=this.getItems(t);if(f.call(this,t),e&&e.length)for(var i=0,r=e.length;r>i;i++){var s=e[i];n(s,this.filteredItems)}},h.prototype.shuffle=function(){for(var t=0,e=this.items.length;e>t;t++){var i=this.items[t];i.sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},h.prototype._noTransition=function(t){var e=this.options.transitionDuration;this.options.transitionDuration=0;var i=t.call(this);return this.options.transitionDuration=e,i},h.prototype.getFilteredItemElements=function(){for(var t=[],e=0,i=this.filteredItems.length;i>e;e++)t.push(this.filteredItems[e].element);return t},h}var s=t.jQuery,a=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")},l=document.documentElement,c=l.textContent?function(t){return t.textContent}:function(t){return t.innerText},u=Object.prototype.toString,d=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,o=t.length;o>i;i++)if(t[i]===e)return i;return-1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],r):"object"==typeof exports?module.exports=r(require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("./item"),require("./layout-mode"),require("./layout-modes/masonry"),require("./layout-modes/fit-rows"),require("./layout-modes/vertical")):t.Isotope=r(t.Outlayer,t.getSize,t.matchesSelector,t.Isotope.Item,t.Isotope.LayoutMode)}(window),function(){function t(){}function e(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}var o=t.prototype,n=this,r=n.EventEmitter;o.getListeners=function(t){var e,i,o=this._getEvents();if("object"==typeof t){e={};for(i in o)o.hasOwnProperty(i)&&t.test(i)&&(e[i]=o[i])}else e=o[t]||(o[t]=[]);return e},o.flattenListeners=function(t){var e,i=[];for(e=0;e<t.length;e+=1)i.push(t[e].listener);return i},o.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&(e={},e[t]=i),e||i},o.addListener=function(t,i){var o,n=this.getListenersAsObject(t),r="object"==typeof i;for(o in n)n.hasOwnProperty(o)&&e(n[o],i)===-1&&n[o].push(r?i:{listener:i,once:!1});return this},o.on=i("addListener"),o.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},o.once=i("addOnceListener"),o.defineEvent=function(t){return this.getListeners(t),this},o.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},o.removeListener=function(t,i){var o,n,r=this.getListenersAsObject(t);for(n in r)r.hasOwnProperty(n)&&(o=e(r[n],i),o!==-1&&r[n].splice(o,1));return this},o.off=i("removeListener"),o.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},o.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},o.manipulateListeners=function(t,e,i){var o,n,r=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(o=i.length;o--;)r.call(this,e,i[o]);else for(o in e)e.hasOwnProperty(o)&&(n=e[o])&&("function"==typeof n?r.call(this,o,n):s.call(this,o,n));return this},o.removeEvent=function(t){var e,i=typeof t,o=this._getEvents();if("string"===i)delete o[t];else if("object"===i)for(e in o)o.hasOwnProperty(e)&&t.test(e)&&delete o[e];else delete this._events;return this},o.removeAllListeners=i("removeEvent"),o.emitEvent=function(t,e){var i,o,n,r,s=this.getListenersAsObject(t);for(n in s)if(s.hasOwnProperty(n))for(o=s[n].length;o--;)i=s[n][o],i.once===!0&&this.removeListener(t,i.listener),r=i.listener.apply(this,e||[]),r===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},o.trigger=i("emitEvent"),o.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},o.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},o._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},o._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return n.EventEmitter=r,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}.call(this),function(t){function e(e){var i=t.event;return i.target=i.target||i.srcElement||e,i}var i=document.documentElement,o=function(){};i.addEventListener?o=function(t,e,i){t.addEventListener(e,i,!1)}:i.attachEvent&&(o=function(t,i,o){t[i+o]=o.handleEvent?function(){var i=e(t);o.handleEvent.call(o,i)}:function(){var i=e(t);o.call(t,i)},t.attachEvent("on"+i,t[i+o])});var n=function(){};i.removeEventListener?n=function(t,e,i){t.removeEventListener(e,i,!1)}:i.detachEvent&&(n=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(o){t[e+i]=void 0}});var r={bind:o,unbind:n};"function"==typeof define&&define.amd?define("eventie/eventie",r):t.eventie=r}(this),function(t,e){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(i,o){return e(t,i,o)}):"object"==typeof exports?module.exports=e(t,require("wolfy87-eventemitter"),require("eventie")):t.imagesLoaded=e(t,t.EventEmitter,t.eventie)}(window,function(t,e,i){function o(t,e){for(var i in e)t[i]=e[i];return t}function n(t){return"[object Array]"===h.call(t)}function r(t){var e=[];if(n(t))e=t;else if("number"==typeof t.length)for(var i=0,o=t.length;i<o;i++)e.push(t[i]);else e.push(t);return e}function s(t,e,i){if(!(this instanceof s))return new s(t,e);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=r(t),this.options=o({},this.options),"function"==typeof e?i=e:o(this.options,e),i&&this.on("always",i),this.getImages(),c&&(this.jqDeferred=new c.Deferred);var n=this;setTimeout(function(){n.check()})}function a(t){this.img=t}function l(t){this.src=t,p[t]=this}var c=t.jQuery,u=t.console,d="undefined"!=typeof u,h=Object.prototype.toString;s.prototype=new e,s.prototype.options={},s.prototype.getImages=function(){this.images=[];for(var t=0,e=this.elements.length;t<e;t++){var i=this.elements[t];"IMG"===i.nodeName&&this.addImage(i);var o=i.nodeType;if(o&&(1===o||9===o||11===o))for(var n=i.querySelectorAll("img"),r=0,s=n.length;r<s;r++){var a=n[r];this.addImage(a)}}},s.prototype.addImage=function(t){var e=new a(t);this.images.push(e)},s.prototype.check=function(){function t(t,n){return e.options.debug&&d&&u.log("confirm",t,n),e.progress(t),i++,i===o&&e.complete(),!0}var e=this,i=0,o=this.images.length;if(this.hasAnyBroken=!1,!o)return void this.complete();for(var n=0;n<o;n++){var r=this.images[n];r.on("confirm",t),r.check()}},s.prototype.progress=function(t){this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded;var e=this;setTimeout(function(){e.emit("progress",e,t),e.jqDeferred&&e.jqDeferred.notify&&e.jqDeferred.notify(e,t)})},s.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var e=this;setTimeout(function(){if(e.emit(t,e),e.emit("always",e),e.jqDeferred){var i=e.hasAnyBroken?"reject":"resolve";e.jqDeferred[i](e)}})},c&&(c.fn.imagesLoaded=function(t,e){var i=new s(this,t,e);return i.jqDeferred.promise(c(this))}),a.prototype=new e,a.prototype.check=function(){var t=p[this.img.src]||new l(this.img.src);if(t.isConfirmed)return void this.confirm(t.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var e=this;t.on("confirm",function(t,i){return e.confirm(t.isLoaded,i),!0}),t.check()},a.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("confirm",this,e)};var p={};return l.prototype=new e,l.prototype.check=function(){if(!this.isChecked){var t=new Image;i.bind(t,"load",this),i.bind(t,"error",this),t.src=this.src,this.isChecked=!0}},l.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},l.prototype.onload=function(t){this.confirm(!0,"onload"),this.unbindProxyEvents(t)},l.prototype.onerror=function(t){this.confirm(!1,"onerror"),this.unbindProxyEvents(t)},l.prototype.confirm=function(t,e){this.isConfirmed=!0,this.isLoaded=t,this.emit("confirm",this,e)},l.prototype.unbindProxyEvents=function(t){i.unbind(t.target,"load",this),i.unbind(t.target,"error",this)},s}),function(){function t(){for(var t=this;-1===t.className.indexOf("nav-menu");)"li"===t.tagName.toLowerCase()&&(-1!==t.className.indexOf("focus")?t.className=t.className.replace(" focus",""):t.className+=" focus"),t=t.parentElement}var e,i,o,n,r;if(e=document.getElementById("site-navigation"),e&&(i=e.getElementsByTagName("button")[0],"undefined"!=typeof i)){if(o=e.getElementsByTagName("ul")[0],"undefined"==typeof o)return void(i.style.display="none");o.setAttribute("aria-expanded","false"),-1===o.className.indexOf("nav-menu")&&(o.className+=" nav-menu"),i.onclick=function(){-1!==e.className.indexOf("toggled")?(e.className=e.className.replace(" toggled",""),i.setAttribute("aria-expanded","false"),o.setAttribute("aria-expanded","false")):(e.className+=" toggled",i.setAttribute("aria-expanded","true"),o.setAttribute("aria-expanded","true"))},n=o.getElementsByTagName("a"),r=o.getElementsByTagName("ul");for(var s=0,a=r.length;s<a;s++)r[s].parentNode.setAttribute("aria-haspopup","true");for(s=0,a=n.length;s<a;s++)n[s].addEventListener("focus",t,!0),n[s].addEventListener("blur",t,!0)}}(),function(){var t,e,i,o,n,r=function(t,e){return function(){return t.apply(e,arguments)}},s=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};e=function(){function t(){}return t.prototype.extend=function(t,e){var i,o;for(i in e)o=e[i],null==t[i]&&(t[i]=o);return t},t.prototype.isMobile=function(t){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)},t.prototype.addEvent=function(t,e,i){return null!=t.addEventListener?t.addEventListener(e,i,!1):null!=t.attachEvent?t.attachEvent("on"+e,i):t[e]=i},t.prototype.removeEvent=function(t,e,i){return null!=t.removeEventListener?t.removeEventListener(e,i,!1):null!=t.detachEvent?t.detachEvent("on"+e,i):delete t[e]},t.prototype.innerHeight=function(){return"innerHeight"in window?window.innerHeight:document.documentElement.clientHeight},t}(),i=this.WeakMap||this.MozWeakMap||(i=function(){function t(){this.keys=[],this.values=[]}return t.prototype.get=function(t){var e,i,o,n,r;for(r=this.keys,e=o=0,n=r.length;n>o;e=++o)if(i=r[e],i===t)return this.values[e]},t.prototype.set=function(t,e){var i,o,n,r,s;for(s=this.keys,i=n=0,r=s.length;r>n;i=++n)if(o=s[i],o===t)return void(this.values[i]=e);return this.keys.push(t),this.values.push(e)},t}()),t=this.MutationObserver||this.WebkitMutationObserver||this.MozMutationObserver||(t=function(){function t(){"undefined"!=typeof console&&null!==console&&console.warn("MutationObserver is not supported by your browser."),"undefined"!=typeof console&&null!==console&&console.warn("WOW.js cannot detect dom mutations, please call .sync() after loading new content.")}return t.notSupported=!0,t.prototype.observe=function(){},t}()),o=this.getComputedStyle||function(t){return this.getPropertyValue=function(e){var i;return"float"===e&&(e="styleFloat"),n.test(e)&&e.replace(n,function(t,e){return e.toUpperCase()}),(null!=(i=t.currentStyle)?i[e]:void 0)||null},this},n=/(\-([a-z]){1})/g,this.WOW=function(){function n(t){null==t&&(t={}),this.scrollCallback=r(this.scrollCallback,this),this.scrollHandler=r(this.scrollHandler,this),this.start=r(this.start,this),this.scrolled=!0,this.config=this.util().extend(t,this.defaults),this.animationNameCache=new i}return n.prototype.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0},n.prototype.init=function(){var t;return this.element=window.document.documentElement,"interactive"===(t=document.readyState)||"complete"===t?this.start():this.util().addEvent(document,"DOMContentLoaded",this.start),this.finished=[]},n.prototype.start=function(){var e,i,o,n;if(this.stopped=!1,this.boxes=function(){var t,i,o,n;for(o=this.element.querySelectorAll("."+this.config.boxClass),n=[],t=0,i=o.length;i>t;t++)e=o[t],n.push(e);return n}.call(this),this.all=function(){var t,i,o,n;for(o=this.boxes,n=[],t=0,i=o.length;i>t;t++)e=o[t],n.push(e);return n}.call(this),this.boxes.length)if(this.disabled())this.resetStyle();else for(n=this.boxes,i=0,o=n.length;o>i;i++)e=n[i],this.applyStyle(e,!0);return this.disabled()||(this.util().addEvent(window,"scroll",this.scrollHandler),this.util().addEvent(window,"resize",this.scrollHandler),this.interval=setInterval(this.scrollCallback,50)),this.config.live?new t(function(t){return function(e){var i,o,n,r,s;for(s=[],n=0,r=e.length;r>n;n++)o=e[n],s.push(function(){var t,e,n,r;for(n=o.addedNodes||[],r=[],t=0,e=n.length;e>t;t++)i=n[t],r.push(this.doSync(i));return r}.call(t));return s}}(this)).observe(document.body,{childList:!0,subtree:!0}):void 0},n.prototype.stop=function(){return this.stopped=!0,this.util().removeEvent(window,"scroll",this.scrollHandler),this.util().removeEvent(window,"resize",this.scrollHandler),null!=this.interval?clearInterval(this.interval):void 0},n.prototype.sync=function(){return t.notSupported?this.doSync(this.element):void 0},n.prototype.doSync=function(t){var e,i,o,n,r;if(null==t&&(t=this.element),1===t.nodeType){for(t=t.parentNode||t,n=t.querySelectorAll("."+this.config.boxClass),r=[],i=0,o=n.length;o>i;i++)e=n[i],s.call(this.all,e)<0?(this.boxes.push(e),this.all.push(e),this.stopped||this.disabled()?this.resetStyle():this.applyStyle(e,!0),r.push(this.scrolled=!0)):r.push(void 0);return r}},n.prototype.show=function(t){return this.applyStyle(t),t.className=""+t.className+" "+this.config.animateClass},n.prototype.applyStyle=function(t,e){var i,o,n;return o=t.getAttribute("data-wow-duration"),i=t.getAttribute("data-wow-delay"),n=t.getAttribute("data-wow-iteration"),this.animate(function(r){return function(){return r.customStyle(t,e,o,i,n)}}(this))},n.prototype.animate=function(){return"requestAnimationFrame"in window?function(t){return window.requestAnimationFrame(t)}:function(t){return t()}}(),n.prototype.resetStyle=function(){var t,e,i,o,n;for(o=this.boxes,n=[],e=0,i=o.length;i>e;e++)t=o[e],n.push(t.style.visibility="visible");return n},n.prototype.customStyle=function(t,e,i,o,n){return e&&this.cacheAnimationName(t),t.style.visibility=e?"hidden":"visible",i&&this.vendorSet(t.style,{animationDuration:i}),o&&this.vendorSet(t.style,{animationDelay:o}),n&&this.vendorSet(t.style,{animationIterationCount:n}),this.vendorSet(t.style,{animationName:e?"none":this.cachedAnimationName(t)}),t},n.prototype.vendors=["moz","webkit"],n.prototype.vendorSet=function(t,e){var i,o,n,r;r=[];for(i in e)o=e[i],t[""+i]=o,r.push(function(){var e,r,s,a;for(s=this.vendors,a=[],e=0,r=s.length;r>e;e++)n=s[e],a.push(t[""+n+i.charAt(0).toUpperCase()+i.substr(1)]=o);return a}.call(this));return r},n.prototype.vendorCSS=function(t,e){var i,n,r,s,a,l;for(n=o(t),i=n.getPropertyCSSValue(e),l=this.vendors,s=0,a=l.length;a>s;s++)r=l[s],i=i||n.getPropertyCSSValue("-"+r+"-"+e);return i},n.prototype.animationName=function(t){var e;try{e=this.vendorCSS(t,"animation-name").cssText}catch(i){e=o(t).getPropertyValue("animation-name")}return"none"===e?"":e},n.prototype.cacheAnimationName=function(t){return this.animationNameCache.set(t,this.animationName(t))},n.prototype.cachedAnimationName=function(t){return this.animationNameCache.get(t)},n.prototype.scrollHandler=function(){return this.scrolled=!0},n.prototype.scrollCallback=function(){var t;return!this.scrolled||(this.scrolled=!1,this.boxes=function(){var e,i,o,n;for(o=this.boxes,n=[],e=0,i=o.length;i>e;e++)t=o[e],t&&(this.isVisible(t)?this.show(t):n.push(t));return n}.call(this),this.boxes.length||this.config.live)?void 0:this.stop()},n.prototype.offsetTop=function(t){for(var e;void 0===t.offsetTop;)t=t.parentNode;for(e=t.offsetTop;t=t.offsetParent;)e+=t.offsetTop;return e},n.prototype.isVisible=function(t){var e,i,o,n,r;return i=t.getAttribute("data-wow-offset")||this.config.offset,r=window.pageYOffset,n=r+Math.min(this.element.clientHeight,this.util().innerHeight())-i,o=this.offsetTop(t),e=o+t.clientHeight,n>=o&&e>=r},n.prototype.util=function(){return null!=this._util?this._util:this._util=new e},n.prototype.disabled=function(){return!this.config.mobile&&this.util().isMobile(navigator.userAgent)},n}()}.call(this);